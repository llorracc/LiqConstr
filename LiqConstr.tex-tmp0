\input{./econtexRoot}\input{./econtexPaths}\documentclass[titlepage,letterpaper]{\econtex}
\input{\ResourcesDir/owner} % Determines whether to reference llorracc or econ-ark urls

\providecommand{\texname}{LiqConstr}% Keyname for this paper
\usepackage{vmargin} % PrivateMsg
\usepackage{\econtexSetup}\usepackage{\econtexShortcuts}

\usepackage[en-US]{datetime2}\DTMlangsetup{showdayofmonth=true} % Allow timestamps

% Default to non-Web (pdf) version, but allow override from command line
\provideboolean{ifWeb}\setboolean{ifWeb}{false}\opt{Web}{\setboolean{ifWeb}{true}}

% Prefer svg format for graphics {Web}
\ifthenelse{\boolean{ifWeb}}{\usepackage{grfext} % {Web} 
  \PrependGraphicsExtensions*{.svg,.jpg,.JPG,.png,.PNG,.pdf,.PDF} % {Web}
}{} % {Web} 

\providecommand{\versn}{} % Version; like, web or pdf or journal submission 
\ifthenelse{\boolean{ifWeb}}{  \renewcommand{\ushort}{\underline}\renewcommand{\versn}{Web} }{} % ushort does not work in tex4ht {Web}

% PrivateMsg: The stuff below switches on and off the creation of the files in the "Sections" subdirectory
%% Sections was useful when constructing the paper so that individual parts could be edited independently
%% It is now a legacy and is preserved mainly as a template for how to do this for future projects
\newboolean{verbatimwriteOn}        % PrivateMsg
%\setboolean{verbatimwriteOn}{true}  % PrivateMsg
\setboolean{verbatimwriteOn}{false} % PrivateMsg
\newcommand{\ifVerbatimWrite}{\ifthenelse{\boolean{verbatimwriteOn}}} % PrivateMsg
\ifVerbatimWrite{}{ % PrivateMsg 
  \renewenvironment{verbatimwrite}[1]{} % PrivateMsg 
} % PrivateMsg

\newenvironment{Private}{} % PrivateMsg 

\providecommand{\wAlt}{\omega}
\providecommand{\sConst}{\varsigma}

%% \newboolean{Figures}
%% \setboolean{Figures}{true}

%% \newboolean{FigFileNames}
%% \setboolean{FigFileNames}{true}

%% \newboolean{StandAlone}
%% \setboolean{StandAlone}{false}

\newtheorem{defn}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{prop}{Proposition}

\renewcommand{\cite}{\citeyear}

\setmarginsrb{1in}{1in}{1in}{1.4in}{0pt}{0pt}{0pt}{.3in} % PrivateMsg : Large font for easy viewing and editing on small screen 
% {left}{top}{right}{bottom} % PrivateMsg

\provideboolean{bigdouble}    % PrivateMsg : Large font for easy viewing and editing on small screen
\setboolean{bigdouble}{true}  % PrivateMsg : Large font for easy viewing and editing on small screen
\setboolean{bigdouble}{false} % PrivateMsg : Large font for easy viewing and editing on small screen

\ifthenelse{\boolean{bigdouble}}{ % Margins must be set before begin document command  % PrivateMsg : Large font for easy viewing and editing on small screen
  \setmarginsrb{0.40in}{0.8in}{0.40in}{0.8in}{0pt}{0pt}{0pt}{0.2in} % PrivateMsg : Large font for easy viewing and editing on small screen
  % {left}{top}{right}{bottom} % PrivateMsg : Large font for easy viewing and editing on small screen
}{} % PrivateMsg : Large font for easy viewing and editing on small screen

\begin{document}\bibliographystyle{\econtexBibStyle}

\hfill{\tiny \texname~\versn~\today~{at} \DTMcurrenttime, \input{.git-source-commit}~~\input{.git-public-commit}}

\title{Liquidity Constraints \\ and Precautionary Saving}

\newlength\TableWidth

\ifthenelse{\boolean{ifWeb}}{
  \author{
    Christopher D. Carroll\authNum
    \and
    Martin B. Holm\authNum
    \and
    Miles S. Kimball\authNum
  }
}{
  \author{
    Christopher D. Carroll\authNum \\ {\small Johns Hopkins University}
    \and
    Martin B. Holm\authNum \\ {\small University of Oslo} 
    \and
    Miles S. Kimball\authNum \\ {\small University of Colorado at Boulder}
  }
} % End ifWeb

%% \date{January 22, 2019}
\date{October 14, 2020}
\maketitle

\jelclass{C6, D91, E21\\
  \href{https://econ-ark.org}{\includegraphics{./Resources/PoweredByEconARK}} \\ \phantom{.}}

\keywords{liquidity constraints, uncertainty, precautionary saving}


\hypertarget{Abstract}{}
\begin{abstract}
  %% \begin{verbatimwrite}{./\texname-abstract.metadata} % PrivateMsg
  %% OLD ABSTRACT:
%%  We provide the analytical explanation of strong interactions between precautionary saving and liquidity constraints that are regularly observed in numerical solutions to consumption/saving models.  The effects of constraints and of uncertainty spring from the same cause: counterclockwise concavification of the consumption function, which can be induced either by constraints or by uncertainty.  Such concavification propagates back to consumption functions in prior periods.  But, surprisingly, once a linear consumption function has been concavified by the presence of either risks or constraints, the introduction of \textit{additional} concavifiers in a given period can \textit{reduce} the precautionary motive in earlier periods at some levels of wealth.  
  We provide the analytical explanation of the interactions between precautionary saving and liquidity constraints. The effects of liquidity constraints and risks are similar because both stem from the same source: a concavification of the consumption function. Since a more concave consumption function exhibits heightened prudence, both constraints and risks strengthen the precautionary saving motive. In addition, we explain the apparently contradictory results that constraints and risks in some cases intensify, but in other cases weaken the precautionary saving motive. The central insight is that the effect of introducing an additional constraint or risk depends on whether it interacts with pre-existing constraints or risks. If it does not interact with any pre-existing constraints or risks, it intensifies the precautionary motive. If it does interact, it may \textit{reduce} the precautionary motive in earlier periods at some levels of wealth. 
  %%% \end{verbatimwrite}\ifVerbatimWrite{\input{./\texname-abstract.metadata}}{} % PrivateMsg
\end{abstract}


\hypersetup{pdfauthor={Christopher Carroll <ccarroll@jhu.edu>, Martin Holm <martin.b.holm@outlook.com>, Miles Kimball <miles.kimball@colorado.edu>},
  pdftitle={Liquidity Constraints and Precautionary Saving},
  pdfsubject={Liquidity Constraints and Precautionary Saving},
  pdfkeywords={liquidity constraints, consumption function, uncertainty, precautionary saving},
  pdfproducer = {LaTeX with hyperref},
  pdfcreator = {pdflatex}
}
\vspace{-1cm}
\begin{authorsinfo}
  \name{Carroll: Department of Economics, Johns Hopkins University, email: \href{mailto:ccarroll@jhu.edu}{\texttt{ccarroll@jhu.edu}}}
  \name{Holm: Department of Economics, University of Oslo, email:  \href{mailto:martin.b.holm@outlook.com}{\texttt{martin.b.holm@outlook.com}}}
  \name{Kimball: Department of Economics, University of Colorado at Boulder, email:  \href{mailto:miles.kimball@colorado.edu}{\texttt{miles.kimball@colorado.edu}}}
\end{authorsinfo}
% Various resources 
\hypertarget{links}{}
\medskip
\begin{small}
  \parbox{\textwidth}{
    \begin{center}
      \begin{tabbing}
        % \texttt{~Archive:~} \= \= \url{https://www.econ2.jhu.edu/people/ccarroll/LiqConstr.zip} \\  %
        \texttt{Dashboard:~} \= \= \texttt{\href{https://econ-ark.org/materials/LiqConstr?dashboard}{https://\owner.github.io/LiqConstr/LiqConstr.pdf}} \\
        \texttt{~~~~~~PDF:~} \> \> \texttt{\href{https://\owner.github.io/LiqConstr/LiqConstr.pdf}{https://\owner.github.io/LiqConstr/LiqConstr.pdf}} \\
        \texttt{~~~Slides:~} \> \> \texttt{\href{https://\owner.github.io/LiqConstr/LiqConstr-Slides.pdf}{https://\owner.github.io/LiqConstr/LiqConstr-Slides.pdf}} \\
        \texttt{~~~~~html:~} \> \> \texttt{\href{https://\owner.github.io/LiqConstr/LiqConstr/}{https://\owner.github.io/LiqConstr/LiqConstr/}}    \\
        \texttt{~~~bibtex:~} \> \> \texttt{\href{https://\owner.github.io/LiqConstr/LiqConstr-Self.bib}{https://\owner.github.io/LiqConstr/LiqConstr-Self.bib}}  \\
        \texttt{~~~GitHub:~} \> \> \texttt{\href{https://github.com/\owner/LiqConstr}{https://github.com/\owner/LiqConstr}} \\
        % \texttt{~~~~~~~~~~} \> \> \textit{(In GitHub repo, see \texttt{/Code} for tools for solving and simulating the model)} \\
      \end{tabbing}
    \end{center}

    The \href{https://econ-ark.org/materials/LiqConstr?dashboard}{dashboard} will launch a live interactive \href{https://en.wikipedia.org/wiki/Project\_Jupyter\#Jupyter_Notebook}{Jupyter Notebook} that uses the \href{https://econ-ark/HARK}{Econ-ARK/HARK} toolkit to produce all of the paper's figures (warning: the dashboard may take several minutes to launch).
  } % end parbox{\textwidth}
\end{small}

\newcommand{\thankstext}{All figures and other numerical results were produced using the \href{https://econ-ark/HARK}{Econ-ARK/HARK} toolkit, which can be cited per our references (\cite{carroll_et_al-proc-scipy-2018}); for reference to the toolkit itself see \href{https://econ-ark.org/acknowledging/}{Acknowleding Econ-ARK}.  Thanks to the \href{https://consumerfinance.gov}{Consumer Financial Protection Bureau} for funding the original creation of the \href{https://econ-ark.org}{Econ-ARK} toolkit; and to the \href{https://sloan.org}{Sloan Foundation} for funding Econ-ARK's \href{https://sloan.org/grant-detail/8071}{extensive further development} that brought it to the point where it could be used for this project.  The toolkit can be cited with its digital object identifier, \href{https://doi.org/10.5281/zenodo.1001067}{10.5281/zenodo.1001067}, as is done in the paper's own references as \cite{carroll_et_al-proc-scipy-2018}.  \\
  This paper supercedes NBER working paper no.\ 8496 from 2001. We are grateful to Mark Huggett for suggesting the current proof of one of our lemmas, Luigi Pistaferri, Misuka Otsuka, and to conference participants in the conferences ``Macroeconomics and Household Borrowing'' sponsored by the Finance and Consumption program and the European University in May 2005 and ``Household Choice of Consumption, Housing, and Portfolio'' at CAM in Copenhagen in June 2005. Kimball is grateful to the National Institute on Aging for research support via grant P01-AG10179 to the University of Michigan.  }

\titlepagefinish

%% % \begin{Web}
%% %   If web version, then just incorporate thanks at beginning of text
%% %   instead of in frontmatter
%%   \ifthenelse{\boolean{ifWeb}}{\medskip \noindent {\tiny
%%   \thankstext \medskip \medskip \medskip
%% }}{\pagebreak 
%% } % \end{Web}
%%   \ifthenelse{\boolean{ifWeb}}{\medskip \noindent {\footnotesize \thankstext \medskip \medskip \medskip  \noindent \hrule height 0.4pt depth 0.0pt width \textwidth \relax}}{\pagebreak } % \end{Web}
\setcounter{page}{1}

\setcounter{footnote}{0}

% \ifthenelse{\boolean{ifWeb}}{\medskip \noindent {\footnotesize \thankstext} \\ \medskip \medskip \medskip  \noindent \hrule height 0.4pt depth 0.0pt width \textwidth \relax}{\pagebreak } % \end{Web}

%% If web version, then just incorporate thanks at beginning of text instead of in frontmatter
%% \ifthenelse{\boolean{ifWeb}}{\medskip \noindent {\footnotesize \thankstext} \\  {\centering \medskip \medskip \medskip  \noindent \hrule height 0.4pt depth 0.0pt width \textwidth \relax}}{\pagebreak } % \end{Web}

%% \ifthenelse{\boolean{ifWeb}}{\medskip \noindent {\footnotesize \thankstext} \\  \medskip \medskip \medskip  \noindent \hrule height 0.4pt depth 0.0pt width \textwidth \relax}{\pagebreak } % \end{Web}

\ifthenelse{\boolean{ifWeb}}{\thankstext}{}

%\noindent \hrule height 0.4pt depth 0.0pt width \textwidth \relax
\hypertarget{Introduction}{}
\section{Introduction}\label{sec:Intro}

\begin{verbatimwrite}{./Sections/Intro.tex} % PrivateMsg
  %% Old: Numerical solutions have now supplanted analytical methods for modeling consumption/saving choices, because analytical solutions are not available for realistic descriptions of utility, uncertainty, and constraints.
  A large literature has shown that numerical models that take constraints and uncertainty seriously can yield different conclusions than those that characterize traditional models. For example, \citet{kmvHANK} show that when sufficiently many households have high marginal propensities to consume (MPC's), a major transmission channel of monetary policy is the `indirect income effect' -- a channel of minimal importance in traditional macro models. Similarly, \citet{glLiq} and \citet{blPrecautionary} show that tightened borrowing conditions and heightened income risk can help explain the consumption decline during the great recession. 
  %% Old: Further, \citet{kmpHandbook} show that numerically realistic models can match the empirical finding that the drop in consumption spending during the great recession was heavily concentrated in the middle class.

  A drawback to numerical solutions is that it is often difficult to know why results come out the way they do.  A leading example is in the complex relationship between precautionary saving behavior and liquidity constraints.\footnote{For the seminal numerical examination of some of the interactions between precautionary saving and liquidity constraints, see \citet{deatonLiqConstr}.} At least since \citet{zeldes:thesis}, economists working with numerical solutions have known that liquidity constraints can strictly increase precautionary saving under very general circumstances. On the other hand, simulations have sometimes found circumstances under which liquidity constraints and precautionary saving are substitutes. In an early example, \citet{samwick:pensions} showed that unconstrained consumers with a precautionary saving motive in a retirement saving model behave in ways qualitatively and quantitatively similar to the behavior of liquidity constrained consumers facing no uncertainty.

  This paper provides the theoretical tools to make sense of the interactions between liquidity constraints and precautionary saving. The main theoretical innovation is to conceptualize the effects of either constraints or risks in terms of consumption concavity. The advantage of understanding the effects in terms of consumption concavity is that there is a link between more consumption concavity (concavification) and prudence, and therefore also precautionary saving \citep{kimball:smallandlarge}. In particular, we show that prudence of the \textit{value} function is increased by any concavification of the consumption function regardless of its cause.
  %% Old: Hence, the cause of concavification does not matter for its effect on prudence and precautionary saving, only that it has been concavified. %even when the \textit{utility} function itself \textit{does not} exhibit prudence. 

  Our first main result is to show that the introduction of a constraint at the end of period $t$ causes consumption concavity around the point where the constraint binds.\footnote{The connection between constraints and consumption concavity has been explored in more specific settings.  See e.g. \citet{park2006analytical} for CRRA utility,  \citet{seater1997optimal} for the case where time-discounting equals the interest rate, \citet{nishiyama2012concavity} for quadratic utility, and \citet{holm2018consumption} for the case with infinitely-lived households with HARA utility.} Furthermore, once consumption concavity is created, it propagates back to periods before $t$. \citet{carroll&kimball:concavity} showed similar results for the effects of risks on consumption concavity. Hence, the two papers establish rigorously that both constraints and risks create a form of consumption concavity that propagates backward. 

  Since prudence is heightened when the consumption function is more concave, it follows immediately that when a liquidity constraint is added to a standard consumption problem, the resulting value function exhibits increased prudence around the level of wealth where the constraint becomes binding.\footnote{A relationship between constraints and prudence has also been noted by \citet{lee2007degree} and documented empirically in \citet{lee2010precautionary}.} Constraints induce precaution because constrained agents have less flexibility in responding to shocks when the effects of the shocks cannot be spread out over time. The precautionary motive is heightened by the desire (in the face of risk) to make future constraints less likely to bind.\footnote{To be clear, the liquidity constraint we analyze here must be satisfied in each period (one-period bonds). This implies that the interactions between constraints and income volatility where some households may prefer to increase (credit card) debt today because they expect tighter credit conditions in the future are ruled out \citep{fulford2015important,druedahl2018precautionary}.} This can explain why such a high percentage of households cite precautionary motives as the most important reason for saving \citep{kennickell&lusardi:scfquestions} even though the fraction of households who report actually having been constrained in the past is relatively low \citep{jappelli:whoisconstr}.

  %% Old: When a risk is introduced into a model with constraints, the backwards propagation of concavity implies that precautionary saving is induced at any level of wealth from which there is a \textit{possibility} that future constraints might bind. 

  After establishing that the introduction of a constraint increases the precautionary saving motive, we show that the introduction of a \textit{further} future constraint may actually \textit{reduce} the precautionary saving motive by `hiding' the effects of  pre-existing constraints or risks. An existing constraint may be rendered irrelevant at levels of wealth where the new constraint forces more saving than the existing constraint would induce. Identical logic implies that uncertainty can `hide' the effects of a constraint because the consumer may save so much for precautionary reasons that the constraint becomes irrelevant. Thus, the introduction of a new constraint or risk does not generally strengthen the precautionary motive.

  
  %% Old: More precisely, there is no general result for how \textit{additional} risks or constraints affect precautionary saving in the presence of existing risks or constraints. 

  A concrete example helps clarify the intuition. A typical perfect foresight model of consumption for a retired consumer with guaranteed income (e.g., `Social Security') implies that a legal constraint on borrowing can make the consumer run their wealth down to zero (thereafter setting consumption equal to income).  Now consider modifying the model to incorporate the possibility of large medical expenses near the end of life (e.g.\ nursing home fees; see \citealp{aclvJoy}). Under reasonable assumptions, a consumer facing such a risk may save enough for precautionary reasons to render the no-borrowing constraint irrelevant. 

  %% Old: Our most general result is to show that the consumption function is `more concave' in the presence of \textit{all} future risks and constraints than in the case with \textit{no} risks and constraints.\footnote{More precisely, we show that there is no level of wealth at which the consumption function becomes less concave, and at least some levels at which it is strictly more concave.} This concavification of the consumption function heightens prudence and therefore also the precautionary saving motive. 


  %% Old: `concavifies' the consumption function and there 

  Although there is no general result for the effects of additional constraints or risks when the consumer already faces existing constraints or risks, we can establish how the introduction of \textit{all} constraints and risks affects the precautionary saving motive.   We show that the precautionary saving motive is stronger at every level of wealth\footnote{More precisely, we show that there is no level of wealth at which the motive is weaker, and at least some levels at which it is strictly stronger.} in the presence of \textit{all} future risks and constraints than in the case with \textit{no} risks and constraints. This is because the consumption function is concave everywhere in the presence of all future risks and constraints,\footnote{Again, there is no level of wealth at which the consumption function becomes less concave, and at least some levels of wealth at which it becomes strictly more concave.} and since consumption concavity heightens prudence of the value function, the precautionary saving motive is also stronger in the presence of all risks and constraints than in the case with no risks and constraints.

  %% Old: Our first main result is that introduction of a constraint at the end of period $t$ creates `consumption concavity' around the point where the constraint binds.\footnote{The connection between constraints and consumption concavity has been explored in more specific settings.  See e.g. \citet{park2006analytical} for CRRA utility,  \citet{seater1997optimal} for the case where time-discounting equals the interest rate, \citet{nishiyama2012concavity} for quadratic utility, and \citet{holm2018consumption} for the case with infinitely-lived households with HARA utility } %We show how backwards induction propagates concavity to periods preceding the date at which the kink is imposed; for example in a life-cycle setting, constraints late in life have effects all the way back to the first period of life.  In an infinite horizon context, the introduction of a kink at any date $t$ induces consumption concavity at some corresponding point(s) at every date $\tau < t$.
  %% Old: We further show that once consumption concavity is created (by the introduction of either uncertainty or a constraint (or in any other way)), it propagates back to periods before $t$.\footnote{\citet{carroll&kimball:concavity} showed that the concavity induced by uncertainty propagated backwards, but the proofs in that paper cannot be applied to concavity created by a liquidity constraint.}
  %% Old: 
  %% Old: Using the result of \citet{kimball:smallandlarge} that any utility function with a positive third derivative exhibits `prudence' (which is the key requirement for a risk to induce precautionary saving), our second main result is to show that prudence of the \textit{value} function is (strictly) increased by (strict) `counterclockwise concavification' of the consumption function, even when the \textit{utility} function itself \textit{does not} exhibit prudence (e.g., in the case of quadratic utility).
  %% Old: 
  %% Old: Combining these results, we show that when a liquidity constraint is added to a standard consumption problem, the resulting value function exhibits increased `prudence' (a greater precautionary motive)\footnote{\citet{kimball:smallandlarge} defines prudence of the value function and shows that it is the key theoretical requirement to produce precautionary saving.} around the level of wealth where the constraint becomes binding.\footnote{A relationship between constraints and prudence has also been noted by \citet{lee2007degree} and documented empirically in \citet{lee2010precautionary}.} Constraints induce precaution because constrained agents have less flexibility in responding to shocks when the effects of the shocks cannot be spread out over time. The precautionary motive is heightened by the desire (in the face of risk) to make future constraints less likely to bind.\footnote{To be clear, the liquidity constraint we analyze here must be satisfied in each period (one-period bonds). This implies that the interactions between constraints and income volatility where some households may prefer to increase (credit card) debt today because they expect tighter credit conditions in the future are ruled out \citep{fulford2015important,druedahl2018precautionary}.}




  %% Old: The link between constraints and consumption concavity is closely related to \citet{carroll&kimball:concavity}'s demonstration that, within the HARA utility class, the introduction of uncertainty causes the consumption function to become strictly concave (in the absence of constraints) for all but a few knife-edge combinations of utility function and the structure of risk.

  \end{verbatimwrite}\ifVerbatimWrite{\input{./Sections/Intro.tex}}{} % PrivateMsg

  \hypertarget{MainMessage}{}

  \begin{verbatimwrite}{./Highlighted/MainMessage} % PrivateMsg
    Hence, we can summarize this paper as follows. The effects of liquidity constraints and risks are similar because both stem from the same source: a concavification of the consumption function. The effects work independently, meaning that neither risks nor constraints are necessary to concavify the consumption function. And since a more concave consumption function exhibits heightened prudence, both constraints and risks strengthen the precautionary saving motive. In addition, we explain the apparently contradictory results that constraints and risks in some cases intensify, but in other cases weaken the precautionary saving motive. The central insight is that the effect of introducing an additional constraint or risk depends on whether it weakens the effects of any pre-existing constraints or risks. If it does not interact with any pre-existing constraints or risks, it intensifies the precautionary saving motive. If it does interact, it may weaken the precautionary saving motive at some levels of wealth. 
  \end{verbatimwrite}\ifVerbatimWrite{\input{./Highlights/MainMessage.tex}}{} % PrivateMsg

  %% Old: Taken together, this paper and \citet{carroll&kimball:concavity} establish rigorously the sense in which liquidity constraints and risks are substitutes: Their effects spring from the fact that introduction of either a constraint or a risk or both will `concavify' the consumption function.\footnote{See \citet{fernandez-corugedo:softlc} for a related demonstration that `soft' liquidity constraints bear an even closer resemblance to precautionary behavior. \citet{MendelsonAmihud:consumption} provide an impressive treatment of a similar problem.} %To illustrate this point, we provide an example of a specific kind of uncertainty that (under CRRA utility, in the limit) induces a consumption function that is point-wise identical to the consumption function that would be induced by the addition of a liquidity constraint.

  The rest of the paper is structured as follows. To fix notation and ideas, the next section sets out the general theoretical framework. Section \ref{sec:PrudAndCC} then defines what we mean by consumption concavity and shows how consumption concavity propagates backward and heightens prudence of the value function. In Section \ref{sec:LCandCC}, we show how liquidity constraints cause consumption concavity and thereby also prudence. And Section \ref{sec:LCandPS} presents our results on the interactions between liquidity constraints and precautionary saving. The final section concludes. 


  %% Old: Our analysis proceeds in four steps. We present the consumption-saving framework in the next section. We then show that consumption concavity increases prudence (Section \ref{sec:PrudAndCC}); that concavity, once created, propagates to previous periods (Section \ref{sec:Aggregation}); that constraints cause consumption concavity (Section \ref{sec:Precaution}); and when additional constraints or risks increase the precautionary saving motive (Section \ref{sec:ConstrRisksCPPandPS}). The final section concludes.

  %% Old: There are three steps: consumption concavity increases prudence (), liquidity constraints cause consumption concavity 
  %% Old: 
  %% Old: 
  %% Old: The rest of the paper is structured as follows. To fix notation and ideas, the next section sets out our general theoretical framework. The third section shows that concavity of the consumption function heightens prudence.  The fourth section shows how concavity, whether induced by constraints or uncertainty, propagates to previous periods. Section 5 shows how the introduction of a constraint creates a precautionary saving motive. The sixth section shows when the introduction of additional liquidity constraints beyond the first constraint increases the precautionary motive at any given level of wealth.  The fact that this does not always occur means that the introduction of constraints or uncertainty can weaken the effects of pre-existing constraints or uncertainty. The final section concludes.


%\clearpage\pagebreak

\hypertarget{SetupIntro}{}
\section{The Setup}\label{sec:Setup}
% \subfile{Sections/Setup}
\begin{verbatimwrite}{./Sections/Setup-Intro} % PrivateMsg
  In this section we present the consumer framework underlying all results. We consider a finitely-lived consumer living from period $t$ to $T$ who faces some future risks and liquidity constraints. The consumer is maximizing the time-additive present discounted value of utility from consumption $u(c)$.  With interest and time preference factors $R \in (0,\infty)$ and $\beta \in (0,\infty)$, and labeling consumption $c$, stochastic labor income $y$, end-of-period assets ${a}$, liquidity constraint $\sConst$, and `market resources' (the sum of current income and spendable wealth from the past) ${m}_{t}$, the consumer's problem can be written as
\end{verbatimwrite} % PrivateMsg 
\begin{verbatimwrite}{./Sections/Setup} % PrivateMsg
  \begin{eqnarray*}
    V_{t}({m}_{t}) &=&
                       \max_{c} ~\Ex_{t}\left[\sum_{k=0}^{T-t}\beta^{k} u({c_{t+k}})\right]   \label{eq:valuefn} \\
                   & s.t. &  \nonumber
    \\              {m}_{t+1} & = & ({m}_{t}-c_{t})R+y_{t+1}  \\ 
    {a}_{t} &=& {m}_{t} - {c}_{t} \\
    {a}_{t} &\geq& \sConst_t% PrivateMsg CDC20190605 moved R after w-c because it is increasingly common for R to be specified as a function of ({m}-c) and we want to be clear that we are NOT doing that 
                   \nonumber
  \end{eqnarray*}

  As usual, the recursive nature of the problem makes this equivalent to the Bellman equation
  \begin{eqnarray*}  \label{eq:recursiveV}
    V_{t}({m}_{t}) & = & \max_{c} ~ u(c) + \Ex_{t} [{\beta}
                         V_{t+1}(%
                         ({m}_{t} - c){R} + {y}_{t+1})].
  \end{eqnarray*}
  We define $\Omega_t({a}_{t}) = \Ex_t [ \beta V_{t+1}(R {a}_{t} + y_{t+1})]$ as the end-of-period value function and rewrite the problem as\footnote{For notational simplicity we express the value function $V_t({m})$ and the expected discounted value function $\Omega_{t}(s)$ as functions simply of wealth and savings, but implicitly these functions reflect the entire information set as of time t; if, for example, the income process is not i.i.d., then information on lagged income or income shocks could be important in determining current optimal consumption.  In the remainder of the paper the dependence of functions on the entire information set as of time $t$ will be unobtrusively indicated, as here, by the presence of the $t$ subscript. For example, we will call the policy rule in period $t$ which indicates the optimal value of consumption $c_{t}({m})$. In contrast, because we assume that the utility function is the same from period to period, the utility function has no $t$ subscript.}
  \begin{eqnarray*}  \label{eq:subphi}
    V_{t}({m}_{t}) & = & \max_{c} ~ u(c) + \Omega_{t}({m}_{t} - c).
  \end{eqnarray*}
  %% Old: Throughout the paper, we distinguish between two different consumption functions, ${c}_{t}({m})$ and $\chi_t(s)$. ${c}_{t}({m})$ is the beginning-of-period consumption function and implicitly defined by the envelope conditions with respect to the current value function: $u'({c}_{t}({m})) = V'({m})$. $\chi_t(s)$ is the end-of-period consumption function implicitly defined by the envelope condition with respect to expected value: $u'(\chi_t(s)) = \Omega_{t}'(s)$.
  Throughout, what we call `the consumption function' is the mapping from  market resources ${m}_{t}$ to consumption. In some of our results we consider utility functions of the HARA class
  \begin{equation}\label{eq:HARA}
    u(c) = \begin{cases} \frac{1}{\alpha_1 - 1}\left(\alpha_1 c + \alpha_2 \right)^{\frac{\alpha_1 -1}{\alpha_1 }} & \alpha_1  \neq 0,1 \\
      -\alpha_2 e^{-c/\alpha_2 } & \alpha_1  = 0 \\
      \log(c + \alpha_2 ) & \alpha_1  = 1 \end{cases} \end{equation}
  with $\alpha_2  > \max\{- \alpha_1 c,0\}$. Note that that \eqref{eq:HARA} also covers the case with quadratic utility ($\alpha_1 = -1$).

\end{verbatimwrite}\ifVerbatimWrite{\input{Sections/Setup}}{} % PrivateMsg

% \bibliography{LiqConstr,LiqConstr-Add,economics}\end{document}

\section{Consumption Concavity and Prudence}\label{sec:PrudAndCC}


\hypertarget{PrudAndCCIntro}{}
\begin{verbatimwrite}{./Sections/PrudAndCC-Intro} % PrivateMsg
  This section provides a set of tools necessary to prove our main results. We first define what we mean by consumption concavity and show that consumption concavity, once established, propagates back to prior periods. Next, we define an operation we call a `counterclockwise concavification' which describes how either a liquidity constraint or a risk affects the consumption function. The advantage of defining a counterclockwise concavification in such general terms is that we can show that it heightens prudence of the value function irrespective of the source of concavification. Since the relationship between prudence and precautionary saving has already been established in the literature \citep{kimball:smallandlarge}, the tools in this section allow us to establish how liquidity constraints affect precautionary saving in the subsequent sections. 
\end{verbatimwrite} % PrivateMsg 


\hypertarget{PrudAndCC}{}
\begin{verbatimwrite}{./Sections/PrudAndCC} % PrivateMsg


  \subsection{Consumption Concavity}\label{sec:def_CC}
  %% Old: After defining consumption concavity (`property CC'), we show that such concavity  propagates recursively; that is, once established in some period $t$, it also holds in periods before $t$ under fairly general conditions. Lastly, we define what we mean by greater consumption concavity which allows us to compare consumption functions. 
  We start by defining what we mean by consumption concavity (CC) and greater consumption concavity. 

  \begin{defn}\label{defn:IntervalStrictCC} (Local Consumption Concavity.) \\ In relation to a
    utility function $u(c)$ with $u'>0$, $u''<0$, and non-negative ($u''' \geq 0$) and non-increasing prudence, a function $V({m})$ has property CC (alternately, strict CC) over the
    interval between ${m}_{1}$ and ${m}_{2}$, where ${m}_2 >{m}_{1}$, if
    \begin{equation*}
      V'({m}) = u'(c({m}))
\end{equation*}
    for some increasing function $c({m})$ that satisfies concavity (alternately, strict concavity) over the interval from ${m}_{1}$ to ${m}_{2}$.
  \end{defn}
  \noindent Since (even with constraints) $V'({m}) = u'(c({m}))$ holds by the envelope theorem, $V({m})$ having property CC (alternately, strict CC) is the same as having a concave (alternately, strictly concave) consumption function $c({m})$.\footnote{Remember that the envelope theorem depends only on being able to spend \textit{current} wealth on \textit{current} consumption, so it holds whether or not there is a 	liquidity constraint.} Note that the definition is restricted to non-negative and non-increasing prudence. This encompasses most of the commonly used utility functions in the economics literature (e.g.\ CRRA, CARA, quadratic). Also, note that we allow for `non-strict' concavity -- that is, linearity -- because we want to include cases such as quadratic utility in which parts of the consumption function can be linear.  Henceforth, unless otherwise noted, we will drop the cumbersome usage `alternately, strict' -- the reader should assume that what we mean always applies in the two alternate cases in parallel.

  If a function has property local CC at every point, we define it as having property CC globally.
  \begin{defn}\label{defn:PropCC} (Global Consumption Concavity.) \\  A function $V({m})$ has property CC in relation to a utility function $u(c)$ with $u'>0$, $u''<0$, and non-negative ($u''' \geq 0$) and non-increasing prudence if $V'({m}) = u'(c({m}))$ for some monotonically increasing concave function $c({m})$.
  \end{defn}

  \noindent We now show that once a value function exhibits the property CC in some period $t+1$, it will also have the property CC in period $t$ and earlier under fairly general conditions. Lemma \ref{lem:recursive} formally provides conditions guaranteeing this recursive propagation.

  \begin{lemma}\label{lem:recursive}(Recursive Propagation of Consumption Concavity.) \\
    Consider an agent with a HARA utility function satisfying $u' > 0$, $u'' < 0$, $u''' \geq 0$~and non-increasing absolute prudence ($-u'''/u''$). Assume that no liquidity constraint applies at the end of period $t$ and that the agent faces income risk $y_{t+1} \in [\underline{y},\bar{y}]$. If $V_{t+1}({m}_{t+1})$ exhibits property (local) CC for all ${m}_{t+1} \in [R{a}_{t} + \underline{y}, R{a}_{t} + \bar{y}]$, then $V_t({m}_{t})$ exhibits property (local) CC at the level of wealth ${m}_{t}$ such that optimal consumption yields ${a}_{t} = {m}_{t} - {c}_{t}({m}_{t})$.
    
    \medskip
    \noindent If also $V_{t+1}({m}_{t+1})$ exhibits property strict (local) CC for at least one ${m}_{t+1} \in [R{a}_{t} + \underline{y}, R{a}_{t} + \bar{y}]$, then $V_t({m}_{t})$ exhibits property strict (local) CC at the level of wealth ${m}_{t}$ where optimal consumption yields ${a}_{t} = {m}_{t} - {c}_{t}({m}_{t})$.
  \end{lemma}
  \noindent See Appendix \ref{app:recursive} for the proof. The basic insight of Lemma \ref{lem:recursive} is that as long as the future consumption function is concave for all realizations of $y_{t+1}$, then it is also concave today. Additionally, if the the future consumption function is strictly concave for at least one realization of ${y}_{t+1}$, then the consumption function is strictly concave also today. 


  The last circumstance we define is when a value function exhibits `greater' concavity than another. Later, this will allow us to compare two consumption functions and their respective concavity. 
  \begin{defn}\label{defn:MoreCC} (Greater Consumption Concavity.) \\ Consider two functions $V({m})$ and $\hat{V}({m})$ that both exhibit property CC with respect to the same $u(c)$ at a point ${m}$ for some interval $({m}_1,{m}_2)$ such that ${m}_1 < {m} < {m}_2$.  Then $\hat{V}({m})$ exhibits property `greater CC' compared to $V({m})$ if
    \begin{eqnarray}
      \hat{c}({m}) - \left(\frac{{m}_{2}-{m}}{{m}_{2}-{m}_{1}} \hat{c}({m}_{1})+\frac{{m}-{m}_{1}}{{m}_{2}-{m}_{1}}\hat{c}({m}_{2})\right) \geq c({m}) - \left(\frac{{m}_{2}-{m}}{{m}_{2}-{m}_{1}} c({m}_{1})+\frac{{m}-{m}_{1}}{{m}_{2}-{m}_{1}}c({m}_{2})\right) \label{eq:MoreCC}
    \end{eqnarray}
    for all ${m} \in ({m}_{1},{m}_{2})$, and property `strictly' greater CC if \eqref{eq:MoreCC}
    holds as a strict inequality.
  \end{defn}

  \noindent If $c''$ and $\hat{c}''$ exist everywhere between ${m}_1$ and ${m}_2$, greater concavity of $\hat{c}$ is equivalent to $\hat{c}''$ being weakly larger in absolute value than $c''$ everywhere in the range from ${m}_1$ to ${m}_2$. The strict version of the proposition would require the inequality to hold strictly over some interval between ${m}_1$ and ${m}_2$.




  \subsection{Counterclockwise Concavification}\label{sec:CountC}
  The next concept we introduce is a `counterclockwise concavification,' which describes an operation that makes the modified consumption function more concave than in the original situation. The idea is to think of the consumption function in the modified situation as being a twisted version of the consumption function in the baseline situation, where the kind of twisting allowed is a progressively larger increase in the MPC as the level of market resources gets lower. We call this a `counterclockwise concavification' to describe the sense that at any specific level of market resources, one can think of the increase in the MPC at lower levels of market resources as being a counterclockwise rotation of the lower portion of the consumption function around that level of resources.

  \begin{defn}\label{defn:cconcavification}(Counterclockwise Concavification.) \\
    Function $\hat{c}({m})$ is a counterclockwise concavification of $c({m})$ around ${m}^{\#}$ if the following conditions hold:
    \begin{enumerate}
    \item $\hat{c}({m}) = c({m})$ for ${m} \geq {m}^{\#}$
      %% Old: \item $\lim_{\wAlt \downarrow {m}^{\#}}  \left(\frac{\hat{c}_{t}'(\wAlt)}{c_{t}'(\wAlt)}\right) = 1$
    \item $\lim_{{m} \uparrow {m}^{\#}} \left(\frac{\hat{c}'({m})}{c'({m})}\right)  \geq 1$
    \item $\lim_{\mu \uparrow {m}} \left(\frac{\hat{c}'(\mu)}{c'(\mu)}\right)$ is weakly decreasing in ${m}$ for ${m} \leq {m}^{\#}$
    \item If $\lim_{{m} \uparrow {m}^{\#}} \left(\frac{\hat{c}'({m})}{c'({m})}\right)  = 1$, then $\lim_{{m} \uparrow {m}^{\#}} \left(\frac{\hat{c}''({m})}{c''({m})}\right) > 1$
    \end{enumerate}
  \end{defn}
  \noindent The limits in the definition are necessary to allow for the possibility of discrete drops in the MPC at potential `kink points' in the consumption functions. To understand counterclockwise concavification, it is useful to derive its implied properties.


  \begin{lemma}\label{lem:counterclockwise}(Properties of a Counterclockwise Concavification.) \\
    If $\hat{c}({m})$ is a counterclockwise concavification of $c({m})$ around ${m}^{\#}$ and $c''({m}) \leq 0$ for all ${m}$, then
    \begin{enumerate}
    \item $\hat{c}({m}) < c({m})$ for  ${m} < {m}^{\#}$.
    \item $\lim_{\mu \uparrow {m}} \hat{c}'(\mu) >$ $\lim_{\mu \uparrow {m}} c'(\mu)$ for ${m} < {m}^{\#}$.
    \item $\lim_{\mu \uparrow {m}} \hat{c}''(\mu) \leq \lim_{\mu \uparrow {m}} c''(\mu)$ for ${m} < {m}^{\#}$.
    \end{enumerate}
  \end{lemma}
  \noindent See Appendix \ref{app:counterclockwise} for the proof. A counterclockwise concavification thus reduces consumption, increases the MPC, and makes the consumption function more concave for all levels of market resources below the point of concavification. A prominent example of a counterclockwise concavification is income risk. Lemma \ref{lem:ccrisk} shows, with a slight abuse of notation, that a set of well-known results in the literature implies that the introduction of a current income risk is an example of a counterclockwise concavification of the consumption function around $\infty$. 

  \begin{lemma}\label{lem:ccrisk}\textit{(Income Risk Causes Counterclockwise Concavification.)} \\
    Consider an agent who has a utility function of the HARA class \eqref{eq:HARA}
    with $u' > 0$, $u'' < 0$, $u''' > 0$, and decreasing absolute prudence ($-u'''/u''$). Then the consumption function in the presence of a current income risk $\tilde{c}({m})$ is a counterclockwise concavification of the consumption function in the presence of no risk $c({m})$ around $\infty$. 
  \end{lemma}
  \begin{proof}
    \citet{kimball:smallandlarge} shows that positive absolute prudence $-\frac{u'''}{u''}$ ensures that $\tilde{c}({m}) < c({m})$ for all ${m}$. Further, decreasing absolute prudence ensures that the conditions for Corollary 1 in \citet{carroll&kimball:concavity} are satisfied so that $\tilde{c}''({m}) < 0$~for all ${m}$. The two results imply that consumption is lower, the MPC is higher, and the consumption function is more concave everywhere in the case with risk than in the case with no risk. $\tilde{c}({m})$ is therefore a counterclockwise concavification of $c({m})$ around $\infty$. 
  \end{proof}

  \hypertarget{CounterclockwiseConcavifications}{}

  \begin{figure}[ht]
    {\centering
      \includegraphics[width=.95\textwidth]{\FigDir/CounterclockwiseConcavifications}}
    \caption{Examples of Counterclockwise Concavifications}
    {\footnotesize \begin{singlespace} {\emph{Notes:} The solid line shows the linear consumption function in the case with no constraints and no risks. The two dashed lines show the consumption function when we introduce a constraint and a risk, respectively. The introduction of a constraint is a counterclockwise concavification of the solid consumption function around ${m}^{\#}$, while the introduction of a risk is a counterclockwise concavification around $\infty$.}  \end{singlespace}}
    \label{fig:counterclockwise}
  \end{figure}

  \noindent Figure \ref{fig:counterclockwise} illustrates two examples of counterclockwise concavifications: the introduction of a constraint or a risk. In both cases, we start from the situation with no risk or constraints (solid line). The constraint causes a counterclockwise concavification around a kink point ${m}^{\#}$. Below ${m}^{\#}$, consumption is lower and the MPC is greater. The introduction of a risk also generates a counterclockwise concavification of the original consumption function, but this time around $\infty$ as described in Lemma \ref{lem:ccrisk}. % For ${m} < \infty$, consumption is lower, the MPC is higher, and the consumption function is strictly more concave than in the original situation (solid line). 




  \subsection{A Counterclockwise Concavification Increases Prudence}\label{sec:CCPrud}
  The section above defined a counterclockwise concavification which describes the effects of either a constraint or a risk on consumption concavity. This section shows the relationship between consumption concavity and prudence. Our method is to compare prudence in a \textit{baseline} case where the consumption function is $c({m})$ to prudence in a \textit{modified} situation in which the consumption function $\hat{c}({m})$ is a counterclockwise concavification of the baseline consumption function. 

  The first result relates to the effects of a counterclockwise concavification on the absolute prudence of the value function, $-\frac{V'''({m})}{V''({m})}$. 
  %% Old: \begin{defn}\label{defn:prudence}(Absolute Prudence of the Value Function.) \\
  %%   Old:   Absolute prudence of the value function is defined as $-\frac{V'''({m})}{V''({m})}$.
  %%   Old: \end{defn}
  %% Old: 


  \begin{lemma}\label{lem:CCToPrud}  (A Counterclockwise Concavification Increases Prudence.) \\
    Consider an agent who has a utility function %of the HARA class \eqref{eq:HARA}
    with $u' > 0$, $u'' < 0$, $u''' \geq 0$, and non-increasing absolute prudence ($-u'''/u''$). If $c({m})$ is concave and $\hat{c}({m})$ is a counterclockwise concavification of $c({m})$, then the value function associated with $\hat{c}({m})$ exhibits greater absolute prudence than the value function associated with $c({m})$ for all ${m}$.
  \end{lemma}

  \noindent See Appendix \ref{app:CCToPrud} for the proof. To understand the effects on prudence of a counterclockwise concavification, note that for a twice differentiable consumption function and thrice differentiable utility function, absolute prudence of the value function is defined as
  \begin{equation} -\frac{V'''({m})}{V''({m})} = - \frac{u'''(c({m}))}{u''(c({m}))}c'({m}) - \frac{c''({m})}{c'({m})} \label{eq:prudence}\end{equation}
  by the envelope condition. The results in Lemma \ref{lem:CCToPrud} follow directly. Lemma \ref{lem:CCToPrud} additionally handles cases where the consumption function is not necessarily twice differentiable. 


  There are three channels through which a counterclockwise concavification heightens prudence. First, the increase in consumption concavity from the counterclockwise concavification itself heightens prudence. Second, if absolute prudence of the utility function is non-increasing, then the reduction in consumption (for some states) from the counterclockwise concavification heightens prudence (at those states). And third, the higher marginal propensity to consume (MPC) from the counterclockwise concavification means that any given variation in market resources results in larger variation in consumption, increasing prudence. The channels operate separately, implying that a counterclockwise concavification heightens prudence \textit{even if absolute prudence is zero} as in the quadratic case.\footnote{cf.\ Nishiyama (\citeyear{nishiyama2012concavity})}

  Lemma \ref{lem:CCToPrud} only provides conditions for when the value function exhibits greater prudence, but not \textit{strictly} greater prudence. In particular, the value function associated with $\hat{c}({m})$ will in some cases (e.g., quadratic utility) have equal prudence for most ${m}$ and strictly greater prudence only for some ${m}$. In Lemma \ref{lem:ccandstrictprud}, we provide conditions for when the value function has strictly greater prudence.

  \begin{lemma} \label{lem:ccandstrictprud}(A Counterclockwise Concavification Strictly Increases Prudence.)\\
    Consider an agent who has a utility function with $u' > 0$, $u'' < 0$, $u''' \geq 0$, and non-increasing absolute prudence ($-u'''/u''$). If $c({m})$ is concave and $\hat{c}({m})$ is a counterclockwise concavification of $c({m})$ around ${m}^{\#}$, then the value function associated with $\hat{c}({m})$~exhibits strictly greater prudence than the value function associated with $c({m})$ if the utility function satisfies $u''' > 0$ and ${m} < {m}^{\#}$ or the utility function is quadratic ($u''' = 0$) and $\frac{\hat{c}'({m})}{c'({m})}$ strictly declines at ${m}$.
  \end{lemma}
  \noindent See Appendix \ref{app:ccandstrictprud} for the proof. For prudent consumers ($u''' > 0$), the value function exhibits strictly greater prudence for all $m$ where the counterclockwise concavification affects consumption. This is because a reduction in consumption and higher marginal propensity to consume heighten prudence if the utility function has a positive third derivative and prudence is non-increasing. If the utility function instead is quadratic, the third derivative is zero and absolute prudence of the value function does not depend on the level of consumption or the marginal propensity to consume. In this case, the counterclockwise concavification only affects prudence at the kink points in the consumption function (where $\frac{\hat{c}'({m})}{c'({m})}$ strictly declines at ${m}$).

  We have now defined consumption concavity and the operation called a counterclockwise concavification. In particular, we have shown that a counterclockwise concavification heightens prudence, which is related the precautionary saving. The next section shows how the introduction of a liquidity constraint is a counterclockwise concavification before we use the tools derived in this section to provide the link between liquidity constraints and precautionary saving in Section \ref{sec:LCandPS}. 



\end{verbatimwrite} % PrivateMsg


\hypertarget{LCandCCIntro}{}

\section{Liquidity Constraints and Consumption Concavity}\label{sec:LCandCC} 

\begin{verbatimwrite}{./Sections/LCandCC-Intro} % PrivateMsg
  This section shows under which conditions liquidity constraints cause consumption concavity. The main conceptual difficulty with liquidity constraints is that the effect of introducing a new constraint depends on already existing constraints. To get around this issue, we introduce the concept of an \textit{ordered} set of \textit{relevant} constraints. This allows us to add constraints in such a way that the next constraint does not affect behavior related to pre-existing constraints. Our main result (Theorem \ref{thm:lcip2}) is that the introduction of the next constraint from the ordered set of relevant constraints causes a counterclockwise concavification of the consumption function. It then follows from the results in Section \ref{sec:PrudAndCC} that the introduction of the next constraint also heightens prudence of the value function. 
\end{verbatimwrite} % PrivateMsg 


\hypertarget{LCandCC}{}



\begin{verbatimwrite}{./Sections/LCandCC} % PrivateMsg
  



  %% Old: Once the ordered set of constraints is defined, we discuss the idea of introducing an additional constraint to the set. The introduction of an additional constraint is problematic because it can hide or render irrelevant constraints that already exist in the set. However, by restricting the analysis to the \textit{relevant} set of constraints, we are able to 

  %% Old: We now move on to the sources of consumption concavity. In our setting, there are two sources of consumption concavity: risk and constraints. The properties of consumption under risk have already been derived in \citet{carroll&kimball:concavity}. We therefore restrict our attention to showing how liquidity constraints make the consumption function concave. Once the relationship between liquidity constraints and consumption concavity is established, we use the results on consumption concavity and prudence to show under which conditions liquidity constraints heighten prudence.

  \subsection{Liquidity Constraints and Kink Points}\label{sec:LCandKinks}
  Recall that we are working with a consumer whose horizon goes from $0$ to $T$. We define a liquidity constraint dated $t$ as a constraint that requires savings at the \textit{end of period} $t \in (0, T]$ to be non-negative (the assumption of non-negativity is without loss of generality as shown in Theorem \ref{thm:lcip2}). 


  We first define what we mean by a kink point which is induced by a constraint. To have a distinct terminology for the effects of current-period and future-period constraints, we will use the word `binds' to refer to the potential effects of a constraint in the period in which it applies and will use the term `impinges' to describe the effect of a future constraint on current consumption. 
  \begin{defn}(Kink Point.) \\
    We define a kink point, $\wAlt_{t,n}$ as the level of market resources at which constraint $n$ stops binding or impinging on time $t$ consumption.
  \end{defn}
  \noindent A kink point corresponds to a transition from a level of market resources where a current constraint binds or a future constraint impinges, to a level of market resources where that constraint no longer binds or impinges. 


  The timing of a constraint relative to other existing constraints matters for the effects of the constraint. We therefore define an ordered set to keep track of the existing constraints.
  \begin{defn} (An Ordered Set of Relevant Constraints.) \\
    We define $\mathcal{T}$ as an ordered set of dates at which a relevant constraint exists. We define $\mathcal{T}[1]$ as the last period in which a constraint exists, $\mathcal{T}[2]$ as the date of the last period before $\mathcal{T}[1]$ in which a constraint exists, and so on.
  \end{defn}
  \noindent $\mathcal{T}$~is the set of relevant constraints, ordered from the last to the first constraint. We order them from last to first because a constraint in period $t$ only affects behavior prior to period $t$ (in addition to $t$ itself). The set of constraints from period $t$ to $T$ summarizes all relevant information in period $t$. Further, and as discussed below, the effect of imposing the next constraint in $\mathcal{T}$ on consumption is unambiguous only if one imposes constraints chronologically from last to first. 

  For any $t \in [0, T)$, we define $c_{t,n}$ as the optimal consumption function in period $t$ assuming that the first $n$ constraints in $\mathcal{T}$ have been imposed. For example, $c_{t,0}({m})$ is the consumption function in period $t$ when no constraints have been imposed, $c_{t,1}({m})$ is the consumption function in period $t$ after the chronologically last constraint has been imposed, and so on. $\Omega_{t,n}, V_{t,n}$, and other functions are defined correspondingly.



  \subsection{A Fixed Set of Constraints}\label{subsec:Piecewise}

  We first consider an initial situation in which a consumer is solving a perfect foresight optimization problem with a finite horizon that begins in period $t$ and ends in period $T$. The consumer begins with market resources ${m}_{t}$ and earns constant income ${y}$ in each period. Lemma \ref{lem:LcAndCc} shows how this consumer's behavior in period $t$ changes from an initial situation with $n\geq 0$ constraints to a situation in which $n+1$ liquidity constraints has been imposed.

  \begin{lemma}\label{lem:LcAndCc}(Liquidity Constraints Cause Counterclockwise Concavification.) \\
    Consider an agent who has a utility function with $u'> 0 $ and $u'' < 0$, faces constant income ${y}$, and is impatient ($\beta R < 1$). Assume that the agent faces a set $\mathcal{T}$ of $N$ relevant constraints. Then $c_{t,n+1}({m})$ is a counterclockwise concavification of $c_{t,n}({m})$ around $\wAlt_{t,n+1}$ for $n \leq N-1$.
  \end{lemma}

  \noindent See Appendix \ref{app:pfclc} for the proof. When we have an ordered set of constraints, $\mathcal{T}$, the introduction of the next constraint generates a counterclockwise concavification of the consumption function. 









  \subsection{Additional Constraints}
  \label{subsec:IncreaseNumConstr}

  Lemma \ref{lem:LcAndCc} analyzes the case where there is a preordained set of constraints $\mathcal{T}$ which were applied sequentially in reverse chronological order. We now examine how behavior will be modified if we add a new date $\hat{\tau}$ to the set of dates at which the consumer is constrained.

  Call the new set of dates $\hat{\mathcal{T}}$ with $N+1$ constraints (one more constraint than before), and call the consumption rules corresponding to the new set of dates
  $\hat{c}_{t,1}$ through $\hat{c}_{t,N+1}$. Now call $m$ the
  number of constraints in $\mathcal{T}$ at dates strictly
  greater than $\hat{\tau}$.  Then note that that $\hat{c}_{\hat{\tau},m} =
  c_{\hat{\tau},m}$, because at dates after the date at which the new constraint (number $m+1$) is
  imposed, consumption is the same as in the absence of the new constraint.
  Now recall that imposition of the constraint at $\hat{\tau}$ causes a counterclockwise concavification of the consumption function around a new kink point, $\wAlt_{\hat{\tau},m+1}$. That is, $\hat{c}_{\hat{\tau},m+1}$ is a counterclockwise concavification of $\hat{c}_{\hat{\tau},m} = c_{\hat{\tau},m}$.

  The most interesting observation, however, is that behavior under constraints $\hat{\mathcal{T}}$ in periods strictly before $\hat{\tau}$ \textit{cannot} be described as a counterclockwise concavification of behavior under $\mathcal{T}$.  The reason is that the values of wealth at which the earlier constraints caused kink points in the consumption functions before period $\hat{\tau}$ will not generally correspond to kink points once the extra constraint has been added.

  \hypertarget{CurrConstrHidesFutKink}{}

  \begin{figure}[ht]
    {\centering \includegraphics[width=.95\textwidth]{\FigDir/CurrConstrHidesFutKink}}
    \caption{How a future constraint can move a current kink}
    \footnotesize {\emph{Notes:} $c_{t,1}$ is the original consumption function with one constraint that induces a kink point at $\omega_{t,1}$. $\hat{c}_{t,2}$ is the modified consumption function in where we have introduced one new constraint. The two constraints affect $\hat{c}_{t,2}$ through two kink points: $\hat{\omega}_{t,1}$ and $\hat{\omega}_{t,2}$. Since we introduced the new constraint at a later point in time than the current existing constraint, the future constraint affects the position of the kink induced by the current constraint and the modified consumption function $\hat{c}_{t,2}$ is not a counterclockwise concavification of ${c}_{t,1}$.}
    \label{fig:LCtHidesLCtpn}
  \end{figure}

  Figure~\ref{fig:LCtHidesLCtpn} presents an example. The original $\mathcal{T}$ contains only a single constraint, at the end of period $t+1$, inducing a kink point at $\wAlt_{t,1}$ in the consumption rule $c_{t,1}$. The expanded set of constraints $\hat{\mathcal{T}}$ adds one constraint at period $t+2$. $\hat{\mathcal{T}}$ induces two kink points in the updated consumption rule $\hat{c}_{t,2}$, at $\hat{\wAlt}_{t,1}$ and $\hat{\wAlt}_{t,2}$.  It is true that imposition of the new constraint causes consumption to be lower than before at every level of wealth below $\hat{\wAlt}_{t,1}$.  However, this does not imply higher prudence of the value function at every ${m} <\hat{\wAlt}_{t,1}$.  In particular, the original consumption function is strictly concave at $\wAlt_{t,1}$, while the new consumption function is linear at $\wAlt_{t,1}$, so prudence is greater before than after imposition of the new constraint at $\wAlt_{t,1}$.

  The intuition is straightforward. At levels of initial wealth below $\hat{\wAlt}_{t,1}$, the consumer had been planning to end period $t+2$ with negative wealth. With the new constraint, the old plan of ending up with negative wealth is no longer feasible and the consumer will save more for any given level of current wealth below $\hat{\wAlt}_{t,1}$, including $\wAlt_{t,1}$. But the reason $\wAlt_{t,1}$ was a kink point in the initial situation was that it was the level of wealth where consumption would have been equal to market resources in period $t+1$. Now, because of the extra savings induced by the constraint in $t+2$, the period $t+1$ constraint will no longer bind for a consumer who begins period $t$ with wealth $\wAlt_{t,1}$. In other words, at wealth $\wAlt_{t,1}$ the extra savings induced by the new constraint prevents the original constraint from being relevant at $\wAlt_{t,1}$.

  Notice, however, that all constraints that existed in $\mathcal{T}$ will remain relevant at \textit{some} $m$ under $\hat{\mathcal{T}}$ even after the new constraint is imposed - they just induce kink points at different levels of market resources than before (in Figure \ref{fig:LCtHidesLCtpn}, the first constraint causes a kink at $\hat{\wAlt}_{t,2}$ rather than $\wAlt_{t,1}$). 

  \subsection{A More General Analysis}
  \label{subsubsec:MoreGenConstr}
  The preceding analyses required income to be constant, the liquidity constraints to be of the no-borrowing type, and consumers to be impatient ($\beta R < 1$).  We now relax these requirements. 
  %% Old: We now want to allow time variation in the level of income ${y}_{t}$ and in the location of the liquidity constraint .  We also drop the restriction that $\beta R < 1$, allowing the consumer to desire consumption growth over time.

  Under these more general circumstances, a constraint imposed in a given period can render constraints in either earlier or later periods irrelevant.  For example, consider a consumer with CRRA utility and $\beta R=1$ who earns income of 1 in each period, but who is required to arrive at the end of period $T-2$ with savings of 5.  Then a constraint that requires savings to be greater than zero at the end of period $T-3$ will have no effect because the consumer is required by the constraint in period $T-2$ to end period $T-3$ with savings greater than 4. 

  Formally, consider now imposing the first constraint, which applies in period $\tau < T$.  The simplest case, analyzed before, was a constraint that requires the minimum level of end-of-period wealth to be ${a}_{\tau} \geq 0$.  Here we generalize this to ${a}_{\tau} \geq \sConst_{\tau,1}$ where in principle we can allow borrowing by choosing $\sConst_{\tau,1}$ to be a negative number. Now for constraint $1$ calculate the kink points for prior periods from
  \begin{eqnarray}
    u'(c_{\tau,1}^{\#}) & = & R\beta u'(c_{\tau+1,0}(R\sConst_{\tau,1}+{y}_{\tau + 1}))
    \\ \wAlt_{\tau,1} & = & (V_{\tau,1}')^{-1}(u'(c_{\tau,1}^{\#})).
  \end{eqnarray}
  In addition, for constraint $2$ recursively calculate
  \begin{eqnarray}
    \underline{\sConst}_{\tau-1,1} & = & (\sConst_{\tau,1}-{y}_{\tau,2}+\underline{c})/R  \label{eq:cgt0}
  \end{eqnarray}
  where $\underline{\sConst}_{\tau-1,1}$ is the level of wealth that constraint $1$ requires the agent to end period $\tau-1$ with and $\underline{c}$ is the lower bound for the value of consumption permitted by the model (independent of constraints).\footnote{For example, CRRA utility is well defined only on the positive real numbers, so for a CRRA utility consumer $\underline{c}=0$.  In other cases, for example with exponential or quadratic cases, there is nothing to prevent consumption of $-\infty$, so for those models $\underline{c}=-\infty$, unless there is a desire to restrict the model to positive values of consumption, in which case the $c\geq 0$ constraint will be implemented through the use of \eqref{eq:cgt0}.}

  Now assume that the first $n$ constraints in $\mathcal{T}$ have been imposed, and consider imposing constraint number $n+1$, which we assume applies at the end of period $\tau$.  The first thing to check is whether constraint number $n+1$ is relevant given the already-imposed set of constraints. This is simple: A constraint that requires ${a}_{\tau} \geq \sConst_{\tau,n+1}$ will be irrelevant if $\max_{i \in [1,n]} [\underline{\sConst}_{\tau,i}] \geq \sConst_{\tau,n+1}$, i.e.\ if one of the existing constraints already implies that savings must be greater or equal to value required by the new constraint.  If the constraint is irrelevant then the analysis proceeds simply by dropping this constraint and renumbering the constraints in $\mathcal{T}$ so that the former constraint $n+2$ becomes constraint $n+1$, $n+3$ becomes $n+2$, and so on.

  Now consider the other possible problem: That constraint number $n+1$ imposed in period $\tau$ will render irrelevant some of the constraints that have already been imposed.  This too is simple to check: It will be true if the proposed $\sConst_{\tau,n+1} \geq \sConst_{\tau,i}$ for any $i \leq n$ and for all ${m}$.\footnote{If a constraint is irrelevant for the lowest ${m}$ that t could enter period $\tau$ with, then it is irrelevant for all ${m}$.} The fix is again simple: Counting down from $i=n$, find the smallest value of $i$ for which $\sConst_{\tau,n+1} \geq \sConst_{\tau,i}$.  Then we know that constraint $n+1$ has rendered constraints $i$ through $n$ irrelevant. The solution is to drop these constraints from $\mathcal{T}$ and start the analysis over again with the modified $\mathcal{T}$. 

  If this set of procedures is followed until the chronologically earliest relevant constraint has been imposed, the result will be a $\mathcal{T}$ that contains a set of constraints that can be analyzed as in the simpler case. In particular, proceeding from the final $\mathcal{T}[1]$ through $\mathcal{T}[N]$, the imposition of each successive constraint in $\mathcal{T}$ now causes a counterclockwise concavification of the consumption function around successively lower values of wealth as progressively earlier constraints are applied and the result is again a piecewise linear and strictly concave consumption function with the number of kink points equal to the number of constraints that are relevant at any feasible level of wealth in period $t$.

  The preceding discussion establishes the following result:

  \begin{theorem}\label{thm:lcip2} (Liquidity Constraints Cause Counterclockwise Concavification.) \\
    Consider an agent in period $t$ who has a utility function with $u' > 0$, $u'' < 0$, $u''' \geq 0$, and non-increasing absolute prudence ($-u'''/u''$). Assume that the agent faces a set $\mathcal{T}$ of $N$ relevant constraints.  Then $c_{t,n+1}({m})$ is a counterclockwise concavification of $c_{t,n}({m})$ around $\wAlt_{t,n+1}$.
    %	When $n \leq N-1$ constraints have been imposed, the imposition of constraint $n+1$ strictly increases absolute prudence of the agent's value function if the utility function satisfies $u''' > 0$ and ${m}_{t} < \wAlt_{t,n+1}$ or if $u''' = 0$ and $\frac{c'_{t,n+1}}{c'_{t,n}}$ strictly declines at ${m}$.
  \end{theorem}



  %% Old: \begin{theorem}\label{thm:lcip2} (Liquidity Constraints Increase Prudence.) \\
  %%   Old:   Consider an agent in period $t$ who has a utility function with $u' > 0$, $u'' < 0$, $u''' \geq 0$, and non-increasing absolute prudence ($-u'''/u''$). Assume that the agent faces a set $\mathcal{T}$ of $N$ relevant constraints. When $n \leq N-1$ constraints have been imposed, the imposition of constraint $n+1$ strictly increases absolute prudence of the agent's value function if the utility function satisfies $u''' > 0$ and ${m}_{t} < \wAlt_{t,n+1}$ or if $u''' = 0$ and $\frac{c'_{t,n+1}}{c'_{t,n}}$ strictly declines at ${m}$.
  %%   Old: \end{theorem}

  \noindent Theorem \ref{thm:lcip2} is a generalization of Lemma \ref{lem:LcAndCc}. Even if we relax the assumptions that income is constant and the agent is impatient, the imposition of an extra (more general) constraint increases absolute prudence of the value function as long as we are careful when we select the set $\mathcal{T}$ of relevant constraints.

  For an agent that only faces liquidity constraints, but no risk, the shape of the consumption function is piecewise linear. 
  %% Old: \begin{corollary}(Piecewise Linear Consumption Function.) \\
  %%   Old:   Consider an agent who has a utility function with $u'> 0$ and $u'' < 0$, faces constant income ${y}$, and is impatient. Assume that the agent faces a set $\mathcal{T}$ of $N$  constraints. When $n \leq N$ constraints have been imposed, $c_{t,n}({m})$ is a piecewise linear increasing concave function with kink points at successively larger values of wealth at which future constraints stop impinging on current consumption.
  %%   Old: \end{corollary}
  Since the consumption function is piecewise linear, the new consumption function, $c_{t,n+1}({m})$ is not necessarily strictly more concave than $c_{t,n}({m})$ for all ${m}$. This is where the concept of counterclockwise concavification is useful. Even though $c_{t,n+1}({m})$ is not strictly more concave than $c_{t,n}({m})$ everywhere, it is a counterclockwise concavification and we can apply Lemma \ref{lem:CCToPrud} and \ref{lem:ccandstrictprud} to show that the introduction of the next liquidity constraint increases absolute prudence of the value function. 

  \begin{corollary}\label{cor:lcip} (Liquidity Constraints Increase Prudence.) \\
    Consider an agent in period $t$ who has a utility function with $u' > 0$, $u'' < 0$, $u''' \geq 0$, and non-increasing absolute prudence ($-u'''/u''$). Assume that the agent faces a set $\mathcal{T}$ of $N$ relevant constraints. When $n \leq N-1$ constraints have been imposed, the imposition of constraint $n+1$ strictly increases absolute prudence of the agent's value function if the utility function satisfies $u''' > 0$ and ${m}_{t} < \wAlt_{t,n+1}$ or if $u''' = 0$ and $\frac{c'_{t,n+1}}{c'_{t,n}}$ strictly declines at ${m}$.
  \end{corollary}
  \begin{proof}
    By Theorem \ref{thm:lcip2}, the imposition of constraint $n+1$ constitutes a counterclockwise concavification of $c_{t,n}({m})$. By Lemma \ref{lem:CCToPrud} and \ref{lem:ccandstrictprud}, such a concavification (strictly) increases absolute prudence of the value function.
  \end{proof}
  \noindent %In the subsequent discussions, we consider cases where we relax the assumptions underlying Corollary \ref{cor:lcip}. We first consider the case where we add an extra constraint to the set of constraints. Next, we consider the cases with time-varying deterministic income, general constraints, and no assumption on time discounting.

  %% Old: Finally, consider adding a new constraint to the problem and call the new set of constraints $\hat{\mathcal{T}}$.  Suppose the new constraint applies in period $\hat{\tau}$.  Then the analysis of the new situation will be like the analysis of an added constraint in the simpler case in section \ref{subsec:IncreaseNumConstr} if the new constraint is relevant given the constraints that apply after period $\hat{\tau}$ and the new constraint does not render any of those later constraints irrelevant. If the new constraint fails either of these tests, the analysis of $\hat{\mathcal{T}}$ can proceed from the ground up as described above.


%  \newpage
\end{verbatimwrite}\ifVerbatimWrite{\input{Sections/LCandCC}}{} % PrivateMsg

\section{Liquidity Constraints and Precautionary Saving}
\label{sec:LCandPS}



\hypertarget{LCandPSIntro}{}
\begin{verbatimwrite}{./Sections/LCandPS-Intro} % PrivateMsg
  The preceding sections established the relationship between liquidity constraints, consumption concavity, and prudence. This section derives the last step to understand the relationship between liquidity constraints and precautionary saving. First, we explain how prudence of the value function affects precautionary saving. Theorem \ref{thm:riskandconstraints} then shows how the introduction of an additional constraint induces agents to increase precautionary saving when they face a \textit{current} risk. The results in Theorem \ref{thm:riskandconstraints} cannot be generalized to an added risk or liquidity constraint in a later time period because it may hide or alter the effects of current constraints or risks and thereby affect local precautionary saving. The main conceptual issue with having both risks and constraints is that the trick with the \textit{relevant} constraints applied in Section \ref{sec:LCandCC} no longer applies in a setting with risk because constraints may be relevant for some sample paths. However, we still derive our most general result in Theorem \ref{thm:CCandPS}: the introduction of an additional risk results in more precautionary saving in the presence of \textit{all} future risks and constraints than in the case with no future risks and constraints. %In other words (Corollary \ref{cor:CCRISK}), the consumption function is concave in the presence of all future risks and constraints. 
  
  %% Old: The main step in the proof was to be careful in defining an ordered set of relevant constraints. We are now going to be explicit about the effects of current risk on precautionary saving in the presence of all future risks and constraints. 
  
  
\end{verbatimwrite} % PrivateMsg 


\hypertarget{LCandPS}{}



\begin{verbatimwrite}{./Sections/LCandPS} % PrivateMsg

  \subsection{Notation}\label{subsec:PrudAndCPP}

  We begin by defining two marginal value functions $V'({m})$ and $\hat{V}'({m})$ which are convex, downward sloping, and continuous in wealth, ${m}$. We consider a risk $\zeta$ with support $[\underline{\zeta},\bar{\zeta}]$, and follow \citet{kimball:smallandlarge} by defining the Compensating Precautionary Premia (CPP) as the values $\kappa$ and $\hat{\kappa}$ such that
  \begin{eqnarray}
    V'({m}) & = & \Ex[V'({m} + \zeta + \kappa)] \label{eq:mudef}
    \\ \hat{V}'({m}) & = & \Ex[\hat{V}'({m} + \zeta + \hat{\kappa})] \label{eq:checkmudef}.
  \end{eqnarray}
  The CPP can be interpreted as the additional resources an agent requires to be indifferent between accepting the risk and not accepting the risk. The relevant part of \citet{pratt:smallandlarge}'s Theorem 1 as reinterpreted using \citet{kimball:smallandlarge}'s Lemma (p. 57) can be restated as
  \begin{lemma}\label{lemma:kimpratt}
    Let $A({m})$ and $\hat{A}({m})$ be absolute prudence of the value functions $V$ and $\hat{V}$ respectively at ${m}$,\footnote{A small technicality: Absolute prudence of value functions is infinite at kink points in the consumption function, so if both $c({m})$ and $\hat{c}({m})$ had a 		kink point at exactly the same ${m}$, the comparison of prudence would not yield a well-defined answer. Under these circumstances we will say that $\hat{A}({m}) \geq A({m})$ if the decline in the MPC is greater for $\hat{c}({m})$ at ${m}$ than for $c({m})$. } and let $\kappa$ and $\hat{\kappa}$ be the respective compensating precautionary premia associated with imposition of a given risk $\zeta$ as per \eqref{eq:mudef} and \eqref{eq:checkmudef}. Then the following conditions are equivalent:
    \begin{enumerate}
    \item $\hat{A}({m} + \zeta+\kappa) \geq A({m} + \zeta+\kappa)$ for all $\zeta \in [\underline{\zeta},\bar{\zeta}]$ and $\hat{A}({m} + \zeta+\kappa) > A({m} + \zeta+\kappa)$ for at least one [no] point $\zeta \in [\underline{\zeta},\bar{\zeta}]$ and a given ${m}$.
    \item $\hat{\kappa} > [=] \kappa$ for all $\zeta \in [\underline{\zeta},\bar{\zeta}]$ and the same given ${m}$.
    \end{enumerate}
  \end{lemma}
  \noindent Lemma \ref{lemma:kimpratt} establishes that greater prudence is equivalent to inducing a greater precautionary premium. For our purpose, it means that our results above on absolute prudence also imply that the precautionary premium is higher. Hence, a more prudent consumer requires a higher compensation to be indifferent about facing the risk or not.\footnote{Note that precautionary premia are not equivalent to precautionary saving effects because precautionary premia apply at a given level of consumption, while precautionary saving applies at a given level of wealth.}

  We now take up the question of how the introduction of a risk $\zeta_{t+1}$ that will be realized at the beginning of period $t+1$ affects consumption in period $t$ in the presence and in the absence of a subsequent constraint.  To simplify the discussion, consider a consumer for whom $\beta=R=1$, with mean income ${y}$ in period $t+1$.

  Assume that the realization of the risk $\zeta_{t+1}$ will be some value $\zeta$ with support [$\underline{\zeta}$,$\bar{\zeta}$], and signify a decision rule that takes account of the presence of the immediate risk by a $\sim$. Further, define $\bar{\wAlt}_{t,n+1}$ as the lowest level of market resources required for the liquidity constraint to never bind. 

  \begin{defn}(Wealth Limit.)\\
    %%%	\begin{enumerate}
    %%   Old: \item ${\underline{\wAlt}}_{t,n+1}$ is the level of wealth such that an agent who faces risk $\zeta_{t+1}$ and $n+1$ constraints saves so little that constraint $n+1$ will always bind in period $t+1$, defined as
    %%   Old:   \begin{eqnarray}
                  %%                   Old:     {\underline{\wAlt}}_{t,n+1} & = & \left(\tilde{V}_{t,n+1}'\right)^{-1}(\tilde{\Omega}_{t,n+1}^{\prime}(\wAlt_{t+1,n+1}-({y}+\bar{\zeta}))).
                                                                                  %%                                                                                   Old:   \end{eqnarray}
    ${\bar{\wAlt}}_{t,n+1}$ is the level of wealth such that an agent who faces risk $\zeta_{t+1}$ and $n+1$ constraints saves enough to guarantee that constraint $n+1$ will never bind in period $t+1$.  Its value is given by:
    \begin{eqnarray}
      {\bar{\wAlt}}_{t,n+1} & = & \left(\tilde{V}_{t,n+1}'\right)^{-1}(\tilde{\Omega}_{t,n+1}^{\prime}(\wAlt_{t+1,n+1}-({y}+\underline{\zeta}))) \label{eq:tildeomegabar}
    \end{eqnarray}
    How to read this limit: $\wAlt_{t+1,n+1}$ is the level of wealth at which constraint $n+1$ makes the transition from binding to not binding in period $t+1$. $\wAlt_{t+1,n+1} - ({y} + \underline{\zeta})$ is the level of wealth in period $t+1$ that ensures that constraint $n+1$ does not bind in period $t+1$ even with the worst possible draw, $\underline{\zeta}$.
                                  %%                                   Old: \end{enumerate}
  \end{defn}

  \noindent We must be careful to check that $\wAlt_{t+1,n+1}-({y}+\underline{\zeta})$ is inside the set of feasible values of ${a}_{t}$ (e.g.\ positive for consumers with CRRA utility). If this is not true for some level of market resources, then the constraint is irrelevant because the restriction imposed by the risk is more stringent than the restriction imposed by the constraint.


  \subsection{Precautionary Saving with Liquidity Constraints}

  We are now in a position to analyze the relationship between precautionary saving and liquidity constraints. Our first result regards the effect of an additional constraint on the precautionary saving of a household facing risk at the beginning of period $t+1$.

  \begin{theorem}\label{thm:riskandconstraints} (Liquidity Constraints Increase Precautionary Saving.) \\
    Consider an agent who has a utility function with $u'> 0$, $u''< 0$, $u''' > 0$, and non-increasing absolute prudence ($-u'''/u''$), and who faces the risk, $\zeta_{t+1}$. Assume that the agent faces a set $\mathcal{T}$ of N relevant constraints and $n \leq N-1$. Then
    \begin{equation}
      c_{t,n+1}({m}) - \tilde{c}_{t,n+1}({m}) \geq c_{t,n}({m})-\tilde{c}_{t,n}({m}), \label{eq:ineq}
    \end{equation}
    and the inequality is strict if wealth is less than the level that ensures that constraint $n+1$ never binds (${m}_{t} < \bar{\wAlt}_{t,n+1}$).
  \end{theorem}

  \noindent See Appendix \ref{app:riskandconstraints} for the proof. Theorem \ref{thm:riskandconstraints} shows that the introduction of the next constraint induces the agent to save more for precautionary reasons in response to an immediate risk as long as there is a positive probability that the next constraint will bind. Theorem \ref{thm:riskandconstraints} can be generalized to period $s < t$ if there is no risk or constraint between period $s$ and $t$ by defining $\bar{\wAlt}_{s,n+1}$ as the wealth level at which the agent will arrive in the beginning of period $t$ with wealth $\bar{\wAlt}_{t,n+1}$.

  To illustrate the result in Theorem \ref{thm:riskandconstraints}, Figure~\ref{fig:SolveConstrCompare4Cases} shows an example of optimal consumption rules in period $t$ under different combinations of an immediate risk (realized at the beginning of period $t+1$) and a future constraint (applying at the end of period $t+1$).
  \hypertarget{ConsWithWithoutConstrAndRisk}{}
  \begin{figure}[ht]
    {\centering
      \includegraphics[width=.95\textwidth]{\FigDir/ConsWithWithoutConstrAndRisk}}

    \caption{Consumption Functions with and without a Constraint and a Risk}
    {\footnotesize \begin{singlespace} {\emph{Notes:} $c_{t,0}$ is the consumption function with no constraint and no risk, $\tilde{c}_{t,0}$ is the consumption function with no constraint and a risk that is realized at the beginning of period $t+1$, $c_{t,1}$ is the consumption function with one constraint in period $t+1$ and no risk, and $\tilde{c}_{t,1}$ is the consumption function with one constraint in period $t+1$ and a risk that is realized at the beginning of period $t+1$. The figure illustrates that the vertical distance between $c_{t,1}$ and $\tilde{c}_{t,1}$ is always greater than the vertical distance between $c_{t,0}$ and $\tilde{c}_{t,0}$ for ${m} < \bar{\omega}_{t,1}$. }  \end{singlespace}}
    \label{fig:SolveConstrCompare4Cases}
  \end{figure}
  The thinner loci reflect behavior of consumers who face the future constraint, and the dashed loci reflect behavior of consumers who face the immediate risk. For levels of wealth above $\wAlt_{t,1}$ where the future constraint stops impinging on current behavior for perfect foresight consumers, behavior of the constrained and unconstrained perfect foresight consumers is the same. Similarly, $\tilde{c}_{t,1}({m}_{t}) = \tilde{c}_{t,0}({m}_{t})$ for levels of wealth above ${\bar{\wAlt}}_{t,1}$ beyond which the probability of the future constraint binding is zero. For both constrained and unconstrained consumers, the introduction of the risk reduces the level of consumption (the dashed loci are below their solid counterparts). The significance of Theorem \ref{thm:riskandconstraints} in this context is that for levels of wealth below ${\bar{\wAlt}}_{t,1}$, the vertical distance between the solid and the dashed loci is greater for the constrained (thin line) than for the unconstrained (thick line) consumers because of the interaction between the liquidity constraint and the precautionary motive.


  \subsection{Additional Constraints or Risks?}
  The result in Theorem \ref{thm:riskandconstraints} is limited to the effects of an additional constraint when a household faces income risk that is realized at the beginning of period $t+1$. One might think that this could be generalized to a proposition that  precautionary saving increases if we for example impose an immediate constraint or an earlier risk, or generally impose multiple constraints or risks. However, it turns out that the answer is ``not necessarily'' to all these possible scenarios. The insight here is that it is no longer possible to use the trick of the \textit{relevant} constraints or risks in the previous section. In a perfect-foresight environment as in Section \ref{sec:LCandCC} and Theorem \ref{thm:riskandconstraints}, there was a stark demarcation between relevant and irrelevant constraints. In an environment with risk, this no longer holds because in the presence of risk, constraints and risks may be relevant for some sample paths. The additional constraints and risks may therefore reduce precautionary saving for some levels of $m$ and we cannot derive more general results on additional risks or constraints. We provide two examples to illustrate this: an immediate constraint and an earlier risk. 

  To describe these examples, we need a last bit of notation.  Define $c_{t,n}^{m}$ as the consumption function in period $t$ assuming that the first $n$ constraints and the first $m$ risks have been imposed, counting risks, like constraints, backwards from period $T$. All other functions are defined correspondingly. We will continue to use the notation $\tilde{c}_{t,n}$ to designate the effects of imposition of a single immediate risk realized at the beginning of period $t+1$.

  %% Old: Suppose now there are $m$ future risks that will be realized between $t$ and $T$. One might hope to show that, at any ${m}$, the precautionary effect of imposing all risks in the presence of all constraints would be greater than the effect of imposing all risks in the absence of any constraints. Such a hope, however, would be in vain.  In fact, even the considerably weaker condition, involving only the single risk $\zeta_{t+1}$ and all constraints, $c_{t,n}^{0}({m}) - c_{t,n}^{1}({m}) \geq c_{t,0}^{0}({m}) - c_{t,0}^{1}({m}),$ can fail to hold for some ${m}$.



  \hypertarget{ConstrHidesRisk}{}
  \begin{figure}[ht]
    {\centering
      \includegraphics[width=.95\textwidth]{\FigDir/ConstrHidesRisk}}
    
    \caption{How an Immediate Constraint can Hide the Effect of a Future Risk}
    {\footnotesize \begin{singlespace} {\emph{Notes:}  $c_{t,0}^0$ is the consumption function with no constraint and no risk, ${c}_{t,0}^1$ is the consumption function with no constraint and one future risk in $t+1$, $c_{t,1}^0$ is the consumption function with one immediate constraint and no risk, and $c_{t,1}^1$ is the consumption function with one immediate constraint and one future risk in $t+1$. The figure illustrates that the future risk has no effect on consumption when $m < \omega_{t-1}^1$ because the immediate constraint hides the effect of the future risk.}  \end{singlespace}}
    \label{fig:ConstrHidesRisk}
  \end{figure}

  \subsubsection{An Immediate Constraint}\label{subsubsec:ImmediateConstr}
  Consider a situation in which no constraint applies between $t$ and $T$ illustrated in Figure \ref{fig:ConstrHidesRisk}. Since $c_{t,0}^0$ designates the consumption rule that will be optimal prior to imposing the period-$t$ constraint, the consumption rule imposing the constraint will be $c_{t,1}^0({m}) = \min[c_{t,0}^0({m}),{m}]$. Now define the level of market resources below which the period $t$ constraint binds for a consumer not facing the risk as ${\wAlt}_{t,1}^0.$ For values of ${m} \geq {\wAlt}_{t,1}^0$, analysis of the effects of the risk is identical to analysis in the previous subsection. For levels of market resources ${m} < {\wAlt}_{t,1}^1$ where the constraint binds both in the presence and the absence of the immediate risk, we have $c^{1}_{t,1}({m}) = c_{t,n}^0({m})=m$. Hence, for consumers with wealth below ${\wAlt}_{t,1}^1$, the introduction of the risk in period $t+1$ has no effect on consumption in $t$, because for these levels of savings at the end of $t$, the consumers where constrained before the risk was imposed and remain constrained afterwards. Hence, the immediate constraint hides the risk from view and the precautionary saving in response to the risk is higher in the absence of the constraint than in the presence of the constraint when $m \leq \wAlt_{t,1}^1$. %Thus for agents for whom inequality \eqref{eq:ineq} in Theorem \ref{thm:riskandconstraints} holds strictly in the absence of the constraint at $t$, at levels of wealth below ${\wAlt}_{t,n}$, the precautionary effect of the risk is wiped out.

  \subsubsection{An Earlier Risk}\label{subsubsec:AnEarlierRisk}

  Consider now the question of how the addition of a risk $\zeta_{t}$ that will be realized at the beginning of period $t$ affects the consumption function at the beginning of period $t-1$, in the absence of any constraint at the beginning of period $t$. The question is whether we can say that the introduction of the risk $\zeta_{t}$ has a greater precautionary effect on consumption in the presence of the subsequent risk $\zeta_{t+1}$ than in its absence?

  %% Old: \begin{eqnarray}
            %%             Old:   \label{eq:earlierrisk}
            %%             Old:   c_{t-1,0}^{1}({m})-c_{t-1,0}^{2}({m}) & \geq & c_{t-1,0}^0({m})-c^{1}_{t-1,0}({m});
                                                                                 %%                                                                                  Old: \end{eqnarray}
                                                                                 %%                                                                                  Old: that is, does 

  The answer again is ``not necessarily.''  To see why, we present an example in Appendix \ref{app:similar} of a CRRA utility problem in which in a certain limit the introduction of a risk produced an effect on the consumption function that is indistinguishable from the effect of a liquidity constraint.  If the risk $\zeta_{t}$ is of this liquidity-constraint-indistinguishable form, then the logic of the previous subsection applies: For some levels of wealth, the introduction of the risk at $t$ can weaken the precautionary effect of any risks at $t+1$ or later.

  \subsection{All Risks and Constraints}\label{subsubsec:WhatCanBeSaid}



  It might seem that the previous subsection implies that little useful can be said about the precautionary effects of introducing a new risk in the presence of preexisting constraints and risks. It turns out, however, that there is one useful result about the introduction of all risks and constraints. 

  \begin{theorem}\label{thm:CCandPS}\textit{(Liquidity Constraints and Risks Increase Precautionary Saving.) \\}
    Consider an agent who has a utility function with $u'> 0$, $u''< 0$, $u''' > 0$, and non-increasing absolute prudence ($-u'''/u''$). Then the introduction of a risk $\zeta_{t+1}$ has a greater precautionary effect on period $t$ consumption in the presence of all future risks and constraints than in the absence of any future risks and constraints, i.e.
    \begin{eqnarray}
      c_{t,n}^{m-1}({m}) - c_{t,n}^{m}({m}) & > & c_{t,0}^0({m})-c^{1}_{t,0}({m}) \label{eq:whatcanbesaid}
    \end{eqnarray}
    at levels of period-$t$ market resources ${m}$ such that in the absence of the new risk the consumer is not constrained in the current period $(c_{t,n}^{m-1}({m}) > {m})$ and in the presence of the risk there is a positive probability that some future constraint will bind.
  \end{theorem}

  \noindent Appendix \ref{app:CCandPS} presents the proof. A fair summary of this theorem is that in most circumstances the presence of future constraints and risks does increase the amount of precautionary saving induced by the introduction of a given new risk.  The primary circumstance under which this should not be expected is for levels of wealth at which the consumer was constrained even in the absence of the new risk. There is no guarantee that the new risk will produce a sufficiently intense precautionary saving motive to move the initially-constrained consumer off his constraint.  If it does, the effect will be precautionary, but it is possible that no effect will occur.

  Our last result is part of the proof of Theorem \ref{thm:CCandPS}, but we state it explicitly as a corollary. 

  \begin{corollary}\label{cor:CCRISK} \textit{(Liquidity Constraints and Risk Cause Counterclockwise Concavification.) \\}
    Consider an agent who has a utility function with $u'> 0$, $u''< 0$, $u''' > 0$, and non-increasing absolute prudence ($-u'''/u''$). Then the consumption function in the presence of $m$ future risks and $n$ constraints $c_{t,n}^{m}$ is a counterclockwise concavification of the consumption function with no risk and no constraints $c_{t,0}^0$. 
  \end{corollary}

  \noindent Corollary \ref{cor:CCRISK} states that the consumption function in the presence of all future risks and constraints is a counterclockwise concavification of the consumption function with no risks or constraints. In other words, the consumption function is concave in the presence of all future risks and constraints. 




\end{verbatimwrite}\ifVerbatimWrite{\input{Sections/LCandPS}}{} % PrivateMsg

\section{Conclusion}

The central message of this paper is that the effects of liquidity constraints and of future risks on precautionary saving are similar because the introduction of either a liquidity constraints or a risk makes the consumption function more concave than the perfect foresight consumption function. Such an increase in concavity heightens prudence, inducing consumers at any affected level of wealth to save more for precautionary reasons. 

In addition, we provide an explanation of apparently contradictory results: That constraints in some cases intensify and in other cases weaken those motives. The insight here is that the effect of introducing a constraint or risk depends on whether it weakens the effect of any pre-existing constraints or risks. If the new constraint or risk does not interact in any way with existing constraints or risks, it intensifies the precautionary saving motive. If it `hides' or moves the effect of any existing constraints or risks, it may weaken the precautionary saving motive at some levels of market resources.

\vfill\eject
\appendix

\centerline{\LARGE Appendix}
\medskip

\begin{verbatimwrite}{./Sections/Proofs} % PrivateMsg
  



  \section{Proof of Lemma \ref{lem:recursive}}\label{app:recursive}

  \begin{proof}~~First, to facilitate readability of the proof, we assume that $R = \beta = 1$ with no loss of generality. Our goal is to prove that $V({m}_{t}) \in CC$ if $V_{t+1}({a}_{t} + {y}_{t+1}) \in CC$ for all realizations of ${y}_{t+1}$. The proof proceeds in two steps. First, we show that property CC is preserved through the expectation operator (vertical aggregation), i.e.\ that $\Omega({a}_{t}) = \Ex_t[V_{t+1}({a}_{t} + {y}_{t+1})] \in CC$ if $V_{t+1}({a}_{t} + {y}_{t+1}) \in CC$ for all realizations of ${y}_{t+1}$. Second, we show that property CC is preserved through the value function operator (horizontal aggregation), i.e.\ that $V({m}_{t}) = \max_{s} u({c}_{t}({m}_{t} - s)) + \Omega(s) \in CC$ if $\Omega(s) \in CC$. Throughout the proof, the first order condition holds with equality since no liquidity constraint applies at the end of period $t$. 
    
    \bigskip
    \noindent \textbf{Step 1: Vertical aggregation} \\ 
    \noindent We show that consumption concavity is preserved under vertical aggregation for three cases of the HARA utility function with $u''' \geq 0$ ($\alpha_1  \geq -1$) and non-increasing absolute prudence ($\alpha_1  \notin (-1,0)$). The three cases are
    \begin{equation}\label{eq:HARAmu}u'(c) = \begin{cases} \left(\alpha_1 c + b\right)^{-1/\alpha_1 } & \alpha_1  \in (0,\infty) \text{ (CRRA)} \\
	e^{-c/b} & \alpha_1  = 0 \text{ (CARA)}\\
	\alpha_1 c + b & \alpha_1  = -1 \text{ (Quadratic)}\end{cases} \end{equation}
    
    \bigskip
    \noindent \textbf{Case I ($\alpha_1  > 0$, CRRA.)} 	We will show that concavity is preserved under vertical aggregation for $c^{-1/\alpha_1 }$ to avoid clutter, but the results hold for all affine transformations, $\alpha_1 c + b$, with $\alpha_1 >0$. Concavity of $c_{t+1}({a}_{t} + {y}_{t+1})$ implies that
    \begin{equation}c_{t+1}({a}_{t} + {y}_{t+1}) \geq pc_{t+1}({a}_1 + {y}_{t+1}) + (1-p) c_{t+1}({a}_2 + {y}_{t+1}) \label{eq:vert_crra_conc}\end{equation}
    for all ${y}_{t+1} \in [\underline{y},\bar{y}]$ if ${a}_{t} = p{a}_1 + (1-p){a}_2$ with $p \in [0,1]$. Since this holds for all ${y}_{t+1}$, we know that
    \[\left\{\Ex_t\left[c_{t+1}({a}_{t} + {y}_{t+1})^{-\frac{1}{a}}\right]\right\}^{-a} \geq \left\{\Ex_t\left[\left\{pc_{t+1}({a}_1 + {y}_{t+1}) + (1-p) c_{t+1}({a}_2 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1}}\right]\right\}^{-\alpha_1}\]
    We now apply Minkowski's inequality (see e.g.\ \citealp[Theorem 3]{beckenbach1983inequalities}) which says that for $u,v \geq 0$ and a scalar $k < 1\ (k \neq 0)$
    \[\left\{\Ex[(u + v)^{k}]\right\}^{1/k} \geq \left\{\Ex[u^{k}]\right\}^{1/k} + \left\{\Ex[v^{k}]\right\}^{1/k}.\]
    %	
    %	
    %	\[\left\{\Ex[(u + v)^{-k}]\right\}^{-1/k} \geq \left\{\Ex[u^{-k}]\right\}^{-1/k} + \left\{\Ex[v^{-k}]\right\}^{-1/k}.\]
    This implies that for $\alpha_1  \in (0,\infty)$ (CRRA)
    \[\left\{\Ex[(u + v)^{-\frac{1}{\alpha_1 }}]\right\}^{-\alpha_1 } \geq \left\{\Ex[u^{-\frac{1}{\alpha_1 }}]\right\}^{-\alpha_1 } + \left\{\Ex[v^{-\frac{1}{\alpha_1 }}]\right\}^{-\alpha_1 }\]
    if $u\geq 0$ and $v\geq 0$. Thus
    \begin{align*}
      &\left\{ \Ex_t \left[\left\{pc_{t+1}({a}_1 + {y}_{t+1}) + (1-p) c_{t+1}({a}_2 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1 }}\right]\right\}^{-\alpha_1 } \\ & \geq \left\{ \Ex_t \left[\left\{pc_{t+1}({a}_1 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1 }}\right]\right\}^{-\alpha_1 } + \left\{ \Ex_t \left[\left\{(1-p) c_{t+1}({a}_2 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1 }}\right]\right\}^{-\alpha_1 } \\
      & = p\left\{ \Ex_t \left[\left\{c_{t+1}({a}_1 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1 }}\right]\right\}^{-\alpha_1 } +(1-p) \left\{ \Ex_t \left[\left\{ c_{t+1}({a}_2 + {y}_{t+1})\right\}^{-\frac{1}{\alpha_1 }}\right]\right\}^{-\alpha_1 } \\ & = p(\Omega'({a}_1))^{-\alpha_1 } + (1-p)(\Omega'({a}_2))^{-\alpha_1 }
    \end{align*}
    which implies that 
    \[ (\Omega'({a}_{t}))^{-\alpha_1 } \geq p(\Omega'({a}_1))^{-\alpha_1 } + (1-p)(\Omega'({a}_2))^{-\alpha_1 }\]	
    Thus, defining
    $\chi_{t}({a}_{t}) = \{\Omega_{t}^{'}({a}_{t})\}^{-\alpha_1 }$, we get
    \begin{align*}
      \chi_{t}({a}_{t}) \geq p \chi_{t}({a}_{1}) + (1-p) \chi_{t}({a}_{2})
    \end{align*}
    for all ${a}_{t}$, where the inequality is strict if $c_{t+1}$ is strictly concave for at least one realization of ${y}_{t+1}$.
    
    \bigskip
    
    \noindent \textbf{Case II ($a = 0$, CARA)}. For the exponential case, property CC holds at ${a}_{t}$ if 
    \begin{eqnarray*}
      \exp(-\chi_{t}({a}_{t})/b) & = & \Ex_{t}[ \exp(-c_{t+1}({a}_{t}+{y}_{t+1})/b)]
    \end{eqnarray*}
    for some $\chi_{t}({a}_{t})$ which is strictly concave at ${a}_{t}$. We set $b = 1$ to reduce clutter, but results hold for $b \neq 1$. Consider first a case where $c_{t+1}$ is linear over the range of possible values of ${a}_{t}+{y}_{t+1}$, then 
    \begin{eqnarray}
      \chi_{t}({a}_{t}) & = & -\log \Ex_{t}[e^{-c_{t+1}({a}_{t}+{y}_{t+1})}] \nonumber 
      \\& = & -\log \Ex_{t}[e^{-(c_{t+1}({a}_{t}+\bar{y})+({y}_{t+1}-\bar{y})c_{t+1}^{'})}] \nonumber
      \\ & = & c_{t+1}({a}_{t}+\bar{y}) - \log \Ex_{t}[e^{-({y}_{t+1}-\bar{y}) c_{t+1}^{'}}] \label{eq:expcdrops}
    \end{eqnarray}
    which is linear in ${a}_{t}$ since the second term is a constant.  
    
    Now consider a value of ${a}_{t}$ for which $c_{t+1}({a}_{t}+{y}_{t+1})$ is strictly concave for at least one realization of ${y}_{t+1}$. Global weak concavity of $c_{t+1}$ tells us that for every ${y}_{t+1}$
    \begin{eqnarray}
      -c_{t+1}({a}_{t}+{y}_{t+1}) & \leq & -((1-p)c_{t+1}({a}_1+{y}_{t+1})+pc_{t+1}({a}_{2}+{y}_{t+1})) \nonumber
      \\ \Ex_{t}[e^{-c_{t+1}({a}_{t}+{y}_{t+1})}] & \leq & \Ex_{t}[e^{-((1-p)c_{t+1}({a}_1+{y}_{t+1})+pc_{t+1}({a}_{2}+{y}_{t+1}))}]. \label{eq:expconc}
    \end{eqnarray}
    
    Meanwhile, the arithmetic-geometric mean inequality states that for positive $u$ and $v$, if $\bar u = \Ex_t [ u]$ and $\bar v = \Ex_t [ v]$, then
    \begin{equation*}
      \Ex_t\left[( u/\bar u)^p ( v/\bar v)^{1-p}\right] 
      \leq \Ex_t \left[p ( u/\bar u)+(1-p)( v/\bar v)\right] = 1, 
    \end{equation*}
    implying that 
    \begin{equation*}
      \Ex_t [ u^p  v^{1-p}] \leq \bar u^p \bar v^{1-p}, 
    \end{equation*}
    where the expression holds with equality only if $v$ is proportional to $u$.  Substituting in $u= e^{-c_{t+1}({a}_1 + {y}_{t+1})}$ and $v = e^{-c_{t+1}({a}_2 + {y}_{t+1})}$, this means that
    \begin{eqnarray*}
      \Ex_t [e^{-p c_{t+1}({a}_1 + {y}_{t+1}) - (1-p)c_{t+1}({a}_2 + {y}_{t+1})}] & \leq &
                                                                                           \left\{ \Ex_t  [e^{- c_{t+1}({a}_1 + {y}_{t+1})} ] \right\}^p \left\{ \Ex_t  [e^{- c_{t+1}({a}_2 + {y}_{t+1})} ] \right\}^{1-p}
    \end{eqnarray*}
    and we can substitute for the LHS from \eqref{eq:expconc}, obtaining
    \begin{eqnarray}
      \Ex_{t}[e^{-c_{t+1}({a}_{t}+{y}_{t+1})}] & \leq &
                                                        \left\{ \Ex_t  [e^{- c_{t+1}({a}_1 + {y}_{t+1})} ] \right\}^p 	\left\{ \Ex_t  [e^{- c_{t+1}({a}_2 + {y}_{t+1})} ] \right\}^{1-p} \nonumber
      \\ 
      \log \Ex_{t}[e^{-c_{t+1}({a}_{t}+{y}_{t+1})}] &\leq &
                                                            p \log \Ex_t  [e^{-c_{t+1}({a}_1 + {y}_{t+1})} ] 
                                                            + (1-p) \log \Ex_t  [e^{-c_{t+1}({a}_2 + {y}_{t+1})} ]  \label{eq:expineq2} 
    \end{eqnarray}
    which holds with equality only when $e^{-c_{t+1}({a}_{1}+{y}_{t+1})}/e^{-c_{t+1}({a}_{2}+{y}_{t+1})}$ is a constant. This will only happen if 	$c_{t+1}({a}_{1}+{y}_{t+1})-c_{t+1}({a}_{2}+{y}_{t+1})$ is constant, which (given that the MPC is strictly positive everywhere) requires 	$c_{t+1}({a}_{t}+{y}_{t+1})$ to be linear for ${y}_{t+1} \in (\underline{y},\bar{y})$. Hence, 
    \begin{eqnarray*}
      \chi_{t}({a}_{t}) & \geq & p \chi_{t}({a}_{1}) + (1-p) \chi_{t}({a}_{2}).
    \end{eqnarray*}
    where the inequality is strict for an ${a}_{t}$ from which $c_{t+1}$ is strictly concave for some realization of ${y}_{t+1}$.
    
    \bigskip
    
    \noindent \textbf{Case III ($a = -1$, Quadratic)}.
    In the quadratic case, linearity of marginal utility implies that
    \begin{eqnarray*}
      u'(\chi_{t}({a}_{t})) & = & \Ex_{t}[u'(c_{t+1}({a}_{t}+{y}_{t+1}))]
      \\   \chi_{t}({a}_{t}) & = & \Ex_{t}[c_{t+1}({a}_{t}+{y}_{t+1})]
    \end{eqnarray*}
    so $\chi_{t}$ is simply the weighted sum of a set of
    concave functions where the weights correspond to the probabilities of the various possible outcomes for ${y}_{t+1}$. The sum of concave functions is itself concave. And if additionally the consumption function is strictly concave at any point, the weighted sum is also strictly concave.
    
    
    \bigskip
    \noindent \textbf{Step 2: Horizontal aggregation:} \\
    We now proceed with horizontal aggregation, namely how concavity is preserved through the value function operation. Assume that $\Omega_t({a}_{t}) \in CC$ at point ${a}_{t}$, then the first order condition implies that
    \[\Omega_t'({a}_{t}) = u'(\chi_t({a}_{t}))\]
    for some monotonically increasing $\chi_t({a}_{t})$ that satisfies
    \begin{align}
      \chi_t(p{a}_1 + (1-p){a}_2) \geq p\chi_t({a}_1) + (1-p)\chi_t({a}_2) \label{eq:hor_conc}
    \end{align}
    for any $0 < p < 1$, and ${a}_1 < {a}_{t} < {a}_2$. % ($|{a}_2 - {a}_1|< \delta$ for any $\delta > 0$). 
    
    In addition, we know that the first order condition holds with equality such that $\Omega_t'({a}_{t}) = u'({c}_{t}({m}_{t})) = u'(\chi_t({a}_{t}))$ which implies that ${a}_{t} = \chi_t^{-1}({c}_{t})$. Using this equation, we get
    \begin{align*}
      \chi_t(p{a}_1 + (1-p){a}_2) &\geq p\chi_t({a}_1) + (1-p)\chi_t({a}_2) \\
      p{a}_1 + (1-p){a}_2 &\geq \chi_t^{-1}(p\chi_t({a}_1) + (1-p)\chi_t({a}_2)) \\
      p\chi_t^{-1}(c_1) + (1-p)\chi_t^{-1}(c_2) &\geq \chi_t^{-1}(pc_1 + (1-p)c_2)
    \end{align*}
    which implies that $\chi_t^{-1}$ is a convex function. 
    
    Use the budget constraint to define
    \begin{align*}
      {m}_{t} &= {a}_{t} + {c}_{t} \\ 
      \wAlt({c}_{t}) & = \chi^{-1}({c}_{t}) + {c}_{t}
    \end{align*} 
    Now, since $\chi_t^{-1}$ is a convex function, and $\wAlt({c}_{t})$ is the sum of a convex and a linear function, it is also a convex function satisfying
    \begin{align}
      p\wAlt(c_1) + (1-p)\wAlt(c_2) &\geq \wAlt(pc_1 + (1-p)c_2) \nonumber \\
      \wAlt^{-1}(p\wAlt(c_1) + (1-p)\wAlt(c_2)) &\geq pc_1 + (1-p)c_2 \nonumber \\
      c(p{m}_1 + (1-p){m}_2) &\geq pc({m}_1) + (1-p)c({m}_2) \label{eq:hor_conc2}
    \end{align} 
    so $c$ is concave. 
    
    Note that the proof of horizontal aggregation works for any utility function with $u' > 0$ and $u'' < 0$ when $R$ = $\beta$ = 1. However, for the more general case where $R$ or $\beta$ are not equal to one, we need the HARA property that multiplying $u'$ by a constant corresponds to a linear transformation of $c$. 
    
    \bigskip
    \noindent \textbf{Strict Consumption Concavity.}
    When $V_{t+1}({m}_{t+1})$ exhibits the property strict CC for at least one ${m}_{t+1} \in [R{a}_{t} + \underline{y}, R{a}_{t} + \bar{y}]$, we know that $\chi_t({a}_{t})$ also exhibits the property strict CC from the proof of vertical aggregation. Then, equation \eqref{eq:hor_conc} holds with strict inequality, and this strict inequality goes through the proof of horizontal aggregation, implying that equation \eqref{eq:hor_conc2} holds with strict inequality. Hence, ${c}_{t}({m}_{t})$ is strictly concave if $c_{t+1}({a}_{t} + {y}_{t+1})$ is concave for all realizations of ${y}_{t+1}$ and strictly concave for at least one realization of ${y}_{t+1}$. 
  \end{proof}


  \section{Proof of Lemma \ref{lem:counterclockwise}} \label{app:counterclockwise}
  \begin{proof} First, condition 2 and 4 in Definition \ref{defn:cconcavification} imply that $\hat{c}'({m}) > c'({m})$ for ${m} = {m}^{\#} - \epsilon$ for a small $\epsilon > 0$. Condition 3 then ensures that $\lim_{\mu \uparrow {m}} \hat{c}'(\mu) > \lim_{\mu \uparrow {m}} c'(\mu)$ holds for all ${m} \leq {m}^{\#}-\epsilon$ (equivalently ${m} < {m}^{\#}$). Second, condition 1 and the fact that $\lim_{\mu \uparrow {m}} \hat{c}'(\mu) > \lim_{\mu \uparrow {m}} c'(\mu)$ for ${m} < {m}^{\#}$ implies that $\lim_{\mu \uparrow {m}} \hat{c}(\mu) < \lim_{\mu \uparrow {m}}c(\mu)$ for ${m} < {m}^{\#}$. Third, condition 3 in Definition \ref{defn:cconcavification} implies that $$\lim_{\mu \uparrow {m}}\hat{c}''(\mu) \leq \lim_{\mu \uparrow {m}} c''(\mu)\frac{\hat{c}'(\mu)}{c'(\mu)}$$ for ${m} < {m}^{\#}$. Then $$\lim_{\mu \uparrow {m}} \hat{c}''(\mu) \leq \lim_{\mu \uparrow {m}} c''(\mu)$$ since $\lim_{\mu \uparrow {m}}\hat{c}'(\mu) > \lim_{\mu \uparrow {m}} c'(\mu)$ for ${m} < {m}^{\#}$. Note that the inequality is not strict since $c''(\mu)$ could be 0.  
  \end{proof}


  \section{Proof of Lemma \ref{lem:CCToPrud}} \label{app:CCToPrud}
  \begin{proof}
    By the envelope theorem, we know that 
    \[ V'({m}) = u'(c({m}))\]
    Differentiating with respect to ${m}$ yields
    \begin{equation}\label{eq:diff2}
      V''({m}) = u''(c({m}))c'({m})
    \end{equation}
    Since $c({m})$ is concave, it has left-hand and right-hand derivatives at every point, though the left-hand and right-hand derivatives may not be equal. Equation \eqref{eq:diff2} should be interpreted as applying the left-hand and right-hand derivatives separately. (Reading \eqref{eq:diff2} in this way implies that $c'({m}^-) \geq c'({m}^+)$; therefore $V''({m}^-) \leq V''({m}^+)$). Taking another derivative can run afoul of the possible discontinuity in $c'({m})$ that we will show below can arise from liquidity constraints. We therefore consider two cases: (i) $c''({m})$ exists and (ii) $c''({m})$ does not exist. 
    
    \bigskip
    \noindent \textbf{\textit{Case I:}} ($c''({m})$ exists.)\\
    In the case where $c''({m})$ exists, we can take another derivative
    \[V'''({m}) = u'''(c({m}))[c'({m})]^2 + u''(c({m}))c''({m})\]
    Absolute prudence of the value function is thus defined as
    \begin{align}-\frac{V'''({m})}{V''({m})} &= -\frac{u'''(c({m}))[c'({m})]^2 + u''(c({m}))c''({m})}{u''(c({m}))c'({m})} \nonumber \\
      -\frac{V'''({m})}{V''({m})} &= -\frac{u'''(c({m}))}{u''(c({m}))}c'({m}) - \frac{c''({m})}{c'({m})}\label{eq:absprudence}\end{align}
    From the assumption that $\hat{c}({m})$ is a counterclockwise concavification of $c({m})$, we know from Lemma \ref{lem:counterclockwise} that  $\hat{c}({m}) \leq c({m})$ and $\hat{c}'({m}) \geq c'({m})$. Furthermore, since $-\frac{u'''(c({m}))}{u''(c({m}))}$ is non-increasing, we know that $-\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))} \geq -\frac{u'''(c({m}))}{u''(c({m}))}$. As a result, $-\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))}\hat{c}'({m}) \geq -\frac{u'''(c({m}))}{u''(c({m}))}c'({m})$. 
    
    The second part of the absolute prudence expression, $-\frac{c''({m})}{c'({m})}$, is a measure of the curvature of the consumption function. Since the consumption function is concave, $-\frac{c''({m})}{c'({m})}$ is a measure of the degree of concavity. Formally, if one has two functions, $f(x)$ and $g(x)$, that are both increasing and concave functions, then the concave transformation $g(f(x))$ always has more curvature than $f$.\footnote{To see this, compute \[-\frac{\frac{d^2}{dx^2} g(f(x))}{\frac{d}{dx}g(f(x))} = - \frac{g''f'}{g'} - \frac{f''}{f'} \geq - \frac{f''}{f'}\] where the inequality holds since $f' \geq 0$, $g' \geq 0$, and $g'' \leq 0$.} A counterclockwise concavification is an example of such a $g$. Hence, $-\frac{\hat{c}''({m})}{\hat{c}'({m})} \geq -\frac{c''({m})}{c'({m})}$. Then
    \begin{align*}
      -\frac{\hat{V}'''({m})}{\hat{V}''({m})} &= -\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))}\hat{c}'({m}) - \frac{\hat{c}''({m})}{\hat{c}'({m})} \\ 
                                              &\geq -\frac{u'''(c({m}))}{u''(c({m}))}c'({m}) - \frac{c''({m})}{c'({m})} = -\frac{V'''({m})}{V''({m})}
    \end{align*}
    
    \bigskip
    
    \noindent \textbf{\textit{Case II:}} ($c''({m})$ does not exist.)\\
    Informally, if nonexistence is caused by a constraint binding at ${m}$, the effect will be a discrete decline in the marginal propensity to consume at ${m}$, which can be thought of as $c''({m}) = -\infty$, implying positive infinite prudence at that point (see \eqref{eq:absprudence}). Formally, if $c''({m})$ does not exist, greater prudence of $\hat{V}$ than $V$ is given by $\frac{\hat{V}''({m})}{V''({m})}$ being a decreasing function of ${m}$. This is defined as
    \[\frac{\hat{V}''({m})}{V''({m})} \equiv 
      \left(\frac{u''(\hat c({m}))}{u''(c({m}))} \right)
      \left(\frac{\hat{c}'({m})}{c'({m})}\right)\]
    The second factor, $\frac{\hat{c}'({m})}{c'({m})}$, is weakly decreasing in ${m}$ by the property of a counterclockwise concavification. At any specific value of ${m}$ where
    $\hat{c}''({m})$ does not exist because the left and right hand
    values of $\hat{c}'$ are different, we say that $\hat{c}'$
    is decreasing if
    \begin{eqnarray}
      \lim_{{m}^{-} \rightarrow {m}} \hat{c}'({m}) & > & \lim_{{m}^{+} \rightarrow {m}} \hat{c}'({m}).
    \end{eqnarray}
    
    As for the first factor, note that nonexistence of 	$\hat{V}'''({m})$ and/or $\hat{c}''({m})$ do not spring from nonexistence of either $u'''(c)$ or $\lim_{{m} \uparrow {m}} \hat{c}'({m})$ (for our purposes, when the left and right derivatives of $\hat{c}({m})$ differ at a point, the relevant derivative is the one coming from the left; rather than carry around the cumbersome limit notation, read the following derivation as applying to the left derivative).  To discover whether $\frac{\hat {V}''({m})}{V''({m})}$ is decreasing we differentiate $\log\left(\frac{u''(\hat{c}({m}))}{ u''(c({m}))}\right)$ (recall that the log is a monotonically decreasing transformation so the derivative of the log of a function always has the same sign as the derivative of the function):
    \begin{align*}
      \frac{d}{d {m}}\left( \log(u''(\hat{c}({m})) - \log(u''(c({m})))\right) = \frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))}\hat{c}'({m}) -  \frac{u'''(c({m}))}{u''(c({m}))}c'({m}).
    \end{align*}
    This will be negative if
    \begin{align}
      \frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))}\hat{c}'({m}) & \leq  \frac{u'''(c({m}))}{u''(c({m}))}c'({m}) \nonumber
      \\ \Rightarrow  -\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))}\hat{c}'({m}) & \geq  -\frac{u'''(c({m}))}{u''(c({m}))} c'({m}) \label{eq:prudcond} .
    \end{align}
    
    Recall from Lemma \ref{lem:counterclockwise} that $\hat{c}'({m}) \geq c'({m})$ and $\hat{c}({m}) \leq c({m})$ so non-increasing absolute prudence of the utility function ensures that $-\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m}))} \geq  -\frac{u'''(c({m}))}{u''(c({m}))}$. Hence the LHS is always greater or equal to the RHS of equation \eqref{eq:prudcond}. 
    
  \end{proof}



  \section{Proof of Lemma \ref{lem:ccandstrictprud}} \label{app:ccandstrictprud}
  \begin{proof}
    We prove each statement in Lemma \ref{lem:ccandstrictprud} separately. 
    
    \bigskip
    
    \noindent \textbf{\textit{Case I:}} ($ u ''' > 0$.) \\
    If $u''' > 0$, a counterclockwise concavification around ${m}^{\#}$ implies that $\hat{c}({m}) < c({m})$ and $\hat{c}'({m}) > c'({m})$ for all ${m} < {m}^{\#}$. Then \[-\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m})}\hat{c}'({m}) > -\frac{u'''({c}({m}))}{u''({c}({m}))}{c}'({m}) \text{ for } {m} < {m}^{\#} \]
    Note that this condition is sufficient to prove Lemma \ref{lem:ccandstrictprud} for the case where $c''({m})$ does not exist since it then satisfies \eqref{eq:prudcond}. In the case where $c''({m})$ does exist, we know that 
    \[-\frac{\hat{c}''({m})}{\hat{c}'({m})} \geq -\frac{{c}''({m})}{{c}'({m})} \text{ for } {m} < {m}^{\#}\]
    from the proof of Lemma \ref{lem:CCToPrud}. Hence,
    \begin{align*}- \frac{\hat{V}'''({m})}{\hat{V}''({m})} &= -\frac{u'''(\hat{c}({m}))}{u''(\hat{c}({m})}\hat{c}'({m}) - \frac{\hat{c}''({m})}{\hat{c}'({m})}
      \\
                                                           & > -\frac{u'''({c}({m}))}{u''({c}({m}))}{c}'({m}) - \frac{{c}''({m})}{{c}'({m})} = - \frac{{V}'''({m})}{{V}''({m})} \text{ for } {m} < {m}^{\#}
    \end{align*}
    and Lemma \ref{lem:ccandstrictprud} holds in the case with $u''' > 0$ and ${m} < {m}^{\#}$.
    
    \bigskip
    
    \noindent \textbf{\textit{Case II:}} ($u''' = 0$.) \\
    The quadratic case requires a different approach. Note first that the conditions in Lemma \ref{lem:ccandstrictprud} hold only below the bliss point for quadratic utility. In addition, since $u'''(\cdot) = 0$, strict inequality between the prudence of $\hat{V}$ and the prudence of $V$ hold only at those points where $\hat{c}(\cdot)$ is strictly concave. 
    
    Recall from the proof of Lemma \ref{lem:CCToPrud} that greater prudence of $\hat{V}({m})$ than $V({m})$ occurs if  $\frac{\hat{V}''({m})}{V''({m})}$ is decreasing in ${m}$. In the quadratic case
    \begin{equation}
      \frac{\hat{V}''({m})}{V''({m})} = \frac{u''(\hat{c}({m}))}{u''(c({m}))} \frac{\hat{c}'({m})}{c'({m})} = \frac{\hat{c}'({m})}{c'({m})}
    \end{equation}
    where the second equality follows since $u''(\cdot)$ is constant with quadratic utility. Thus, prudence is strictly greater in the modified case only if $ \frac{\hat{c}'({m})}{c'({m})}$ strictly declines in ${m}$.
  \end{proof}



  \section{Proof of Lemma \ref{lem:LcAndCc}}\label{app:pfclc}
  We prove Lemma \ref{lem:LcAndCc} by induction in two steps. First, we show that all results in Lemma \ref{lem:LcAndCc} hold when we add the first constraint. The second step is then to show that the results hold when we go from $n$ to $n+1$ constraints. 	
  
  \begin{lemma}\textit{$(c_{t}' < c_{t+1}')$} \\
    Consider an agent who has a utility function with $u' > 0$ and $u'' < 0$, faces constant income, is impatient ($\beta R < 1$), and has a finite life. Then $c_{t}' < c_{t+1}'$.
  \end{lemma}
  
  \begin{proof}
    The marginal propensity to consume in period $t$ can be obtained from the MPC in period $t+1$ from the Euler equation
    \begin{eqnarray*}
      u'(c_{t}({m}_{t})) & =  & \beta R u'(c_{t+1}(R({m}_{t}-c_{t}({m}_{t}))+{y})).
    \end{eqnarray*}
    Differentiating both sides with respect to ${m}_{t}$ and omitting arguments to reduce
    clutter we obtain
    \begin{eqnarray*}
      u^{\prime\prime}(c_{t})c_{t}^{\prime} & =  & \beta R u^{\prime\prime}(c_{t+1})c_{t+1}^{\prime}R(1-c_{t}^{\prime}) \nonumber
      \\ \nonumber (u^{\prime\prime}(c_{t}) + \beta R u^{\prime\prime}(c_{t+1})c_{t+1}^{\prime}R)c_{t}^{\prime} & = & \beta R u^{\prime\prime}(c_{t+1})Rc_{t+1}^{\prime}
      \\ \frac{c_{t+1}^{\prime}}{c_{t}^{\prime}}   & = & \frac{u^{\prime\prime}(c_{t}) + \beta R u^{\prime\prime}(c_{t+1})c_{t+1}^{\prime}R}{\beta R u^{\prime\prime}(c_{t+1})R} \label{eq:mpcPF} \\
      \frac{c_{t+1}^{\prime}}{c_{t}^{\prime}}   & = & \frac{u^{\prime\prime}(c_{t})}{\beta R u^{\prime\prime}(c_{t+1})R} + c_{t+1}^{\prime} %\\ \frac{c_{t+1}^{\prime}}{c_{t}^{\prime}} & > &  1 
    \end{eqnarray*}
    Since $\beta R < 1$ ensures that $c_{t} > c_{t+1}$, we know that
    \[\frac{u^{\prime\prime}(c_{t})}{\beta R u^{\prime\prime}(c_{t+1})R} \geq  \frac{u^{\prime\prime}(c_{t+1})}{\beta R u^{\prime\prime}(c_{t+1})R} = \frac{1}{\beta R R} > \frac{1}{R}\]
    Furthermore, we know that
    \[c_{t}^{\prime} \geq \frac{R-1}{R}\]
    since $\frac{R-1}{R}$ is the MPC for an infinitely-lived agent with $\beta R = 1$. Hence, 
    \[\frac{c_{t+1}^{\prime}}{c_{t}^{\prime}} = \left(\frac{u^{\prime\prime}(c_{t})}{\beta R u^{\prime\prime}(c_{t+1})R} + c_{t}^{\prime} \right) > \frac{1}{R} + \frac{R-1}{R} = 1\]
    and it follows that $c_{t}^{\prime} <  c_{t+1}^{\prime}$.
  \end{proof}
  
  \begin{lemma}\label{lem:pfclc}(Consumption with one Liquidity Constraint.) \\
    Consider an agent who has a utility function with $u'> 0 $ and $u'' < 0$, faces constant income, ${y}$, and is impatient, $\beta R < 1$. Assume that the agent faces a set $\mathcal{T}$ of one relevant constraint. Then $c_{t,1}({m})$ is a counterclockwise concavification of $c_{t,0}({m})$ around $\wAlt_{t,1}$.
  \end{lemma}
  
  
  \begin{proof}
    We now prove Lemma \ref{lem:pfclc} by first showing that the consumption function including the constraint at the end of period $\tau$ is a counterclockwise concavification of the unconstrained consumption function in period $\tau$. Next, we show how the constraint further implies that the consumption function including the constraint is a counterclockwise concavification of the unconstrained consumption function in periods prior to $\tau$. 
    
    We first define $\tau = \mathcal{T}[1]$ as the time period of the constraint. Note first that consumption is unaffected by the constraint for all periods after $\tau$, i.e. $c_{\tau+k,1}=c_{\tau+k,0}$ for any $k > 0$. For period $\tau$, we can calculate the level of consumption at which the constraint binds by realizing that a consumer for whom the constraint binds will save nothing and therefore arrive in the next period with no wealth. Further, the maximum amount of consumption at which the constraint binds will satisfy the Euler equation (only points where the constraint is strictly binding violate the Euler equation; the point on the cusp does not). Thus, we define $c_{\tau,1}^{\#}$ as the maximum level of consumption in period $\tau$ at which the agent leaves no wealth for the next period, i.e.\ the constraint stops binding:
    \begin{eqnarray*}
      \label{eq:ctau1}
      u'(c_{\tau,1}^{\#})   & = & \beta R u'(c_{\tau+1,0}({y}))
      \\   c_{\tau,1}^{\#}       & = & (u')^{-1}\left(\beta R u'(c_{\tau+1,0}({y}))\right),
    \end{eqnarray*}
    and the level of wealth at which the constraint stops binding can be obtained from
    \begin{eqnarray}
      \label{eq:omegaFromc}
      \wAlt_{\tau,1} & = & \left(V'_{\tau,1}\right)^{-1}(u'(c_{\tau,1}^{\#}))  .
    \end{eqnarray}
    
    Below this level of wealth, we have $c_{\tau,1}({m}) = {m}$ so the MPC is one, while above it we have $c_{\tau,1}({m}) = c_{\tau,0}({m})$ where the MPC equals the constant MPC for an unconstrained perfect foresight optimization problem with a horizon of $T-\tau$. Thus, $c_{\tau,1}$ satisfies our definition of a counterclockwise concavification of $c_{\tau,0}$ around $\wAlt_{\tau,1}$.  
    
    Further, we can obtain the value of period $\tau-1$ consumption at which the period $\tau$ constraint stops impinging on period $\tau-1$ behavior from
    \begin{eqnarray*}
      u'(c_{\tau-1,1}^{\#})   & = & \beta R u'(c_{\tau,1}^{\#}) \label{eq:ctaum1}
    \end{eqnarray*}
    and we can obtain $\wAlt_{\tau-1,1}$ via the analogue to \eqref{eq:omegaFromc}. Iteration generates the remaining $c_{.,1}^{\#}$ and $\wAlt_{.,1}$ values back to period $t$. 
    
    Now consider the behavior of a consumer in period $\tau-1$ with a level of wealth ${m}<\wAlt_{\tau-1,1}$.  This consumer knows he will be constrained and will spend all of his resources next period, so at ${m}$ his behavior will be identical to the behavior of a consumer whose entire horizon ends at time $\tau$.  As shown in step I, the MPC always declines with horizon. The MPC for this consumer is therefore strictly greater than the MPC of the unconstrained consumer whose horizon ends at $T > \tau$.  Thus, in each period before $\tau+1$, the consumption function $c_{.,1}$ generated by imposition of the constraint constitutes a counterclockwise concavification of the unconstrained consumption function around the kink point $\wAlt_{.,1}$. 
  \end{proof}
  
  We have now shown the results in Lemma \ref{lem:LcAndCc} for $n = 0$. The last step is to show that they also hold for $n+1$ when they hold strictly for $n$. Consider imposing the $n+1$'st constraint and suppose for concreteness that it applies at the end of period $\tau$. It will stop binding at a level of consumption defined by
  $$u'(c_{\tau,n+1}^{\#}) = \beta R u'(c_{\tau+1,n}({y})) = \beta Ru'(y)$$ 
  where the second equality follows because a consumer with total resources $y$, constant income, and $\beta R < 1$ will be constrained. But note that by the definition of $c^{\#}_{\tau,n}$, we obtain
  $$	u'(c_{\tau,n}^{\#})  =  (R \beta)^{\mathcal{T}[n]-\tau} u'({y})  <  R \beta u'({y}) = u'(c_{\tau,n+1}^{\#})$$
  where $\mathcal{T}[n]-\tau$ denotes the time remaining to the $n$'th constraint. From the assumption of decreasing marginal utility, we therefore know that
  \begin{eqnarray*}
    c_{\tau,n}^{\#} & \geq & c_{\tau,n+1}^{\#}.
  \end{eqnarray*}
  This means that the constraint is relevant: The pre-existing constraint $n$ does not force the consumer to do so much saving in period $\tau$ that the $n+1$'st constraint fails to bind.
  
  The prior-period levels of consumption and wealth at which constraint $n+1$ stops impinging on consumption can again be calculated recursively from
  \begin{eqnarray*}
    u'(c_{\tau,n+1}^{\#}) & = & R\beta u'(c_{\tau+1,n}({y}))
    \\  \wAlt_{\tau,n+1} & = & \left(V'_{\tau,n}\right)^{-1}(u'(c_{\tau,n+1}^{\#})).
  \end{eqnarray*}

  Furthermore, once again we can think of the constraint as terminating
  the horizon of a finite-horizon consumer in an earlier period than it
  is terminated for the less-constrained consumer, with the implication
  that the MPC below $\wAlt_{\tau,n+1}$ is strictly greater than the MPC
  above $\wAlt_{\tau,n+1}$.  Thus, the consumption function $c_{\tau,n+1}$
  constitutes a counterclockwise concavification of the consumption
  function $c_{\tau,n}$ around the kink point $\wAlt_{\tau,n+1}$.


  \section{Proof of Theorem \ref{thm:riskandconstraints}}\label{app:riskandconstraints}

  \begin{proof}
                               %%                                Old: We prove Theorem \ref{thm:riskandconstraints} by induction. We first show that it holds when we introduce the first constraint, before we show that it holds when we introduce constraint number $n+1$ when $n$ constraints already exist. 

                               %%                                Old: \begin{lemma}(Precautionary Saving with one Liquidity Constraint.) \label{lem:pslc}\\
                  %%                   Old:   Consider an agent who has a utility function with $u'> 0$, $u''< 0$, $u''' > 0$, and non-increasing absolute prudence ($-u'''/u''$). Then 
                  %%                   Old:   \begin{equation}
                  %%                   Old:     c_{t,1}({m}) - \tilde{c}_{t,1}({m}) \geq c_{t,0}({m})-\tilde{c}_{t,0}({m}), \label{eq:ineq2}
                  %%                   Old:   \end{equation}
                  %%                   Old:   and the inequality is strict if ${m}_{t} < \bar{\wAlt}_{t,1}$.
                  %%                   Old: \end{lemma}

    Our proof proceeds by constructing the behavior of consumers facing the risk from the behavior of the corresponding perfect foresight consumers.  We consider matters from the perspective of some level of wealth ${{m}}$ for the perfect foresight consumers.  Because the same marginal utility function $u'$ applies to all four consumption rules, the Compensating Precautionary Premia, $\kappa_{t,n}$ and $\kappa_{t,n+1}$, associated with the introduction of the risk $\zeta_{t+1}$  must satisfy
    \begin{eqnarray}
      c_{t,n}({{m}}) & = & \tilde{c}_{t,n}({{m}}+\kappa_{t,n}) \label{eq:hateqtildehat2}
      \\ c_{t,n+1}({{m}}) & = & \tilde{c}_{t,n+1}({{m}}+\kappa_{t,n+1}). \label{eq:hateqtildehat}\end{eqnarray}
    Define the amounts of precautionary saving induced by the risk $\zeta_{t+1}$ at an arbitrary level of wealth ${m}$ in the two cases as
    \begin{eqnarray}
      \psi_{t,n}({m}) & = & c_{t,n}({m})-\tilde{c}_{t,n}({m})
      \\   \psi_{t,n+1}({m}) & = & c_{t,n+1}({m})-\tilde{c}_{t,n+1}({m})
    \end{eqnarray}
    where the mnemonic is that the first two letters of the Greek letter psi stand
    for {\bf p}recautionary {\bf s}aving.

    We can rewrite \eqref{eq:hateqtildehat} (resp. \eqref{eq:hateqtildehat2}) as
    \begin{eqnarray*}
      c_{t,n+1}({m}) = c_{t,n+1}({{m}}+\kappa_{t,n+1})+\int_{{{m}}+\kappa_{t,n+1}}^{{{m}}} c_{t,n+1}^{\prime}(\mu) d\mu  = \tilde{c}_{t,n+1}({{m}}+\kappa_{t,n+1})
      \psi_{t,2}({{m}}+\kappa_{t,2}) \equiv 
    \end{eqnarray*}
    which implies that
    \begin{eqnarray*}
      \psi_{t,n+1}({{m}}+\kappa_{t,n+1}) & = & 
                                               c_{t,n+1}({{m}}+\kappa_{t,n+1})-\tilde{c}_{t,n+1}({{m}}+\kappa_{t,n+1}) = \int^{{{m}}+\kappa_{t,n+1}}_{{{m}}} c_{t,n+1}^{\prime}(\mu) d\mu,
      \\ %\psi_{t,1}({{m}}+\kappa_{t,1}) \equiv 
      \psi_{t,n}({{m}}+\kappa_{t,n}) & = &  c_{t,n}({{m}}+\kappa_{t,n})-\tilde{c}_{t,n}({{m}}+\kappa_{t,n}) = \int^{{{m}}+\kappa_{t,n}}_{{{m}}} c_{t,n}^{\prime}(\mu) d\mu 
    \end{eqnarray*}
    and 
    \begin{eqnarray}
      \psi_{t,n}({{m}}+\kappa_{t,n+1}) & = & 
                                             \psi_{t,n}({{m}}+\kappa_{t,n}) - \int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}} (\tilde{c}_{t,n}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu)) d\mu \nonumber
    \end{eqnarray}
    so the difference between precautionary saving for the consumer facing $n$ constraints and the one facing $n+1$ constraints at ${{m}}+\kappa_{t,n+1}$ is 
    \begin{align}
      \psi_{t,n+1}&({{m}}+\kappa_{t,n+1}) - \psi_{t,n}({{m}}+\kappa_{t,n+1}) = \nonumber\\ 
                  &= \psi_{t,n+1}({{m}}+\kappa_{t,n+1}) - \psi_{t,n}({{m}}+\kappa_{t,n}) + \psi_{t,n}({{m}}+\kappa_{t,n})- \psi_{t,n}({{m}}+\kappa_{t,n+1}) \nonumber
      \\ &=\int_{{{m}}}^{{{m}}+\kappa_{t,n+1}} c_{t,n+1}^{\prime}(\mu)d\mu - \int^{{{m}}+\kappa_{t,n}}_{{{m}}} c_{t,n}^{\prime}(\mu) d\mu + \int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}} (\tilde{c}_{t,n}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu)) d\mu \nonumber\\
      % &=\int_{{{m}}}^{{{m}}+\kappa_{t,n}} (c_{t,n+1}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu))d\mu+\int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}} \left(c_{t,n+1}^{\prime}(\mu)+(\tilde{c}_{t,n}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu)) \right) d\mu \nonumber \\
                  &= \int_{{{m}}}^{{{m}}+\kappa_{t,n+1}}
                    (c_{t,n+1}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu))d\mu +\int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}}
                    \tilde{c}_{t,n}^{\prime}(\mu) d\mu \label{eq:psidiffint}
    \end{align}


    If we can show that \eqref{eq:psidiffint} is a positive
    number for all feasible levels of ${{m}}$ satisfying ${{m}} < {\bar{\wAlt}}_{t,n+1}$, then we have proven Theorem \ref{thm:riskandconstraints}. We know that the marginal propensity to consume is always strictly positive and that $\kappa_{t,n+1} \geq \kappa_{t,n} \geq 0$\footnote{Since we know that liquidity constraints increase prudence (Corollary \ref{cor:lcip}) and that prudence results in a positive precautionary premium (Lemma \ref{lemma:kimpratt}).} so to prove that \eqref{eq:psidiffint} is strictly positive, we need to show one of two sufficient conditions:
    \begin{enumerate}
    \item $\kappa_{t,n+1} > 0$ and $c_{t,n+1}'(\mu) > c_{t,n}'(\mu)$
    \item $\kappa_{t,n+1} > \kappa_{t,n}$
    \end{enumerate}
    Now, since $u'''>0$, we know that $\kappa_{t,n} > 0$ from Jensen's inequality. Hence, $\kappa_{t,n+1} > 0$ since $\kappa_{t,n+1} \geq \kappa_{t,n}$. The first integral in \eqref{eq:psidiffint} is therefore strictly positive as long as $c_{t,n+1}' > c_{t,n}'$, which is true for ${{m}} < \wAlt_{t,n+1}$ by Lemma \ref{lem:LcAndCc}. 
    
    For ${{m}} \geq \wAlt_{t,n+1}$, we know that $c_{t,n+1}' = c_{t,n}'$ so the first integral in \eqref{eq:psidiffint} is always zero. For the second integral in \eqref{eq:psidiffint} to be strictly positive, we need to show that $\kappa_{t,n+1} > \kappa_{t,n}$. 
    
                    %%                     Old: We will prove this by using a proof by showing that assuming $\kappa_{t,n+1} \leq \kappa_{t,n}$ leads to the conclusion that $\kappa_{t,n+1} > \kappa_{t,n}$. 
    
                    %                     First define $\hat{\zeta}$ as the realization of $\zeta$ such that 
                    %                     $$ {a}_{t,n+1} + y + \kappa_{t,n+1} + \zeta = \omega_{t,n+1}.$$
                    %                     In words, $\hat{\zeta}$ is the value of $\zeta$ that cancels the values of ${a}_{t,n+1}$ and $\kappa_{t,n+1}$ relative to the $n+1$'st constraint in the sense that given the level of savings and precautionary premia, a draw if $\zeta = \hat{\zeta}$ restores wealth to exactly the value at which constraint $n+1$ stops binding. 
                    %                     XXXXX
    
    
    
    First define the perfect foresight consumption functions as
    \begin{eqnarray}
      c(\kappa_{t,n}+\zeta) & = & c_{t+1,n}(\overbrace{{s}_{t,n}}^{={a}_{t,n+1}}+{y}+\kappa_{t,n}+\zeta) \label{eq:cnoconstr}
      \\  {c}(\kappa_{t,n+1}+\zeta) & = & c_{t+1,n+1}({s}_{t,n+1}+{y}+\kappa_{t,n+1}+\zeta)\label{eq:gravecnoconstr}.
    \end{eqnarray}	
    where ${a}_{t,n} = {a}_{t,n+1}$ since ${m} \geq \wAlt_{t,n+1}$. Recall also the definitions of $\kappa_{t,n}$ and $\kappa_{t,n+1}$:
    \begin{eqnarray*}
      u'({c}_{t,n}) & = & \Ex_{t}[u'(c(\kappa_{t,n}+\zeta))]
      \\  u'({c}_{t,n+1}) & = & \Ex_{t}[u'({c}(\kappa_{t,n+1}+\zeta))].
    \end{eqnarray*}

    Now recall that Lemma~\ref{lemma:kimpratt} tells us that if absolute prudence of $u'(c(\kappa_{t,n}+\zeta))$ is identical to absolute prudence of $u'({c}(\kappa_{t,n+1}+\zeta))$ for every realization of $\zeta$, then $\kappa_{t,n}=\kappa_{t,n+1}$. This is true if ${m}_{t+1} \geq \wAlt_{t+1,n+1}$ for all possible realizations of $\zeta \in (\underline{\zeta}, \bar{\zeta})$, i.e. that the agent is unconstrained for all realizations of the risk. We defined this limit as ${m}_{t+1} \geq {\bar{\wAlt}}_{t+1,n+1}$. We therefore know that $\kappa_{t,n+1}  = \kappa_{t,n}$ if ${{m}} \geq {\bar{\wAlt}}_{t+1,n+1}$. 
    
    For all levels of wealth below this limit (${{m}} < {\bar{\wAlt}}_{t+1,n+1}$), there exist realizations of $\zeta$ such that constraint $n+1$ will bind in period $t+1$. The agent will require a higher precautionary premia when facing constraint $n+1$ in addition to the $n$ constraints already in the set, implying that $\kappa_{t,n+1} > \kappa_{t,n}$. Equation \eqref{eq:psidiffint} is therefore strictly positive if ${{m}} < {\bar{\wAlt}}_{t+1,n+1}$ and we have proven Theorem \ref{thm:riskandconstraints}. 
                                %%                                 Old: \subsection*{The $n+1$'st constraint}
                                %%                                 Old: Consider now the case where we have imposed $n$ constraints and are considering imposing constraint $n+1$ and where constraint $n+1$ applies at the end of some future period. Similar to the introduction of the first constraint, we need to show that the following equation is strictly positive:
                                %%                                 Old: \begin{align}
                                %%                                 Old:   \psi_{t,n+1}&({{m}}+\kappa_{t,n+1}) - \psi_{t,n}({{m}}+\kappa_{t,n+1}) = \nonumber\\ &=\int_{{{m}}}^{{{m}}+\kappa_{t,n}} (c_{t,n+1}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu))d\mu+\int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}} \left(c_{t,n+1}^{\prime}(\mu)+(\tilde{c}_{t,n}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu)) \right) d\mu \nonumber \\
                  %%                   Old:   &= \int_{{{m}}}^{{{m}}+\kappa_{t,n+1}}
                                                %%                                                 Old:   (c_{t,n+1}^{\prime}(\mu)-c_{t,n}^{\prime}(\mu))d\mu +\int^{{{m}}+\kappa_{t,n+1}}_{{{m}}+\kappa_{t,n}}
                                                %%                                                 Old:   \tilde{c}_{t,n}^{\prime}(\mu) d\mu \label{eq:psidiffint2}
                                                %%                                                 Old: \end{align}
                                                %%                                                 Old: The sufficient conditions for \eqref{eq:psidiffint2} to be strictly positive are
                                                %%                                                 Old: \begin{enumerate}
                                                %%                                                 Old:  \item $\kappa_{t,n+1} > 0$ or $\kappa_{t,n} > 0$, and $c_{t,n+1}'(\mu) > c_{t,n}'(\mu)$
                                                %%                                                 Old:  \item $\kappa_{t,n+1} > \kappa_{t,n}$
                                                %%                                                 Old: \end{enumerate}
                                                %%                                                 Old:  Now since $u'''>0$, we know that $\kappa_{t,n} > 0$ from Jensen's inequality and Lemma \ref{lemma:kimpratt}. The first integral in \eqref{eq:psidiffint2} is therefore strictly positive as long as $c_{t,n+1}' > c_{t,n}'$, which is true for ${{m}} < \wAlt_{t,n+1}$ (Theorem \ref{thm:pfclc}). 
                                                %%                                                 Old:  
                                                %%                                                 Old:  For ${{m}} \geq \wAlt_{t,n+1}$, we know that $c_{t,n+1}' = c_{t,n}'$ so the first integral in \eqref{eq:psidiffint2} is always zero. For the second integral in \eqref{eq:psidiffint2} to be strictly positive, we need to show that $\kappa_{t,n+1} > \kappa_{t,n}$. Recall the definition of $\kappa_{t,n}$ and $\kappa_{t,n+1}$:
                                                %%                                                 Old:  \begin{eqnarray*}
                                                %%                                                 Old:   u'({c}_{t,n}) & = & \Ex_{t}[u'(c(\kappa_{t,n}+\zeta))]
                                                                                                                              %%                                                                                                                               Old:   \\  u'({c}_{t,n+1}) & = & \Ex_{t}[u'(\hat{c}(\kappa_{t,n+1}+\zeta))],
                                                                                                                                                                                                                                                                                                %%                                                                                                                                                                                                                                                                                                 Old:  \end{eqnarray*}
                                                                                                                                                                                                                                                                                                %%                                                                                                                                                                                                                                                                                                 Old:  where the two consumption functions are defined as
                                                                                                                                                                                                                                                                                                %%                                                                                                                                                                                                                                                                                                 Old:  \begin{eqnarray}
                                                                                                                                                                                                                                                                                                %%                                                                                                                                                                                                                                                                                                 Old:   c(\kappa_{t,n}+\zeta) & = & c_{t+1,n}(\overbrace{{s}_{t,n}}^{={s}_{t,n+1}}+{y}+\kappa_{t,n}+\zeta) \label{eq:cnoconstr2}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      %%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Old:   \\  \hat{c}(\kappa_{t,n+1}+\zeta) & = & c_{t+1,n+1}({s}_{t,n+1}+{y}+\kappa_{t,n+1}+\zeta)\label{eq:gravecnoconstr2}.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              %%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Old:  \end{eqnarray}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              %%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Old:	Now recall that Lemma~\ref{lemma:kimpratt} tells us that if absolute prudence of $u'(c(\kappa_{t,n}+\zeta))$ is identical to absolute prudence of $u'(\hat{c}(\kappa_{t,n+1}+\zeta))$ for every realization of $\zeta$, then $\kappa_{t,n}=\kappa_{t,n+1}$. This can only be true if ${m}_{t+1} \geq \wAlt_{t+1,n+1}$ for any realization of $\zeta \in (\underline{\zeta}, \bar{\zeta})$. We defined this limit as ${m}_{t+1} \geq {\bar{\wAlt}}_{t,n+1}$. We therefore know that $\kappa_{t,n+1}  = \kappa_{t,n}$ if ${{m}} \geq {\bar{\wAlt}}_{t,n+1}$ and $\kappa_{t,n+1} > \kappa_{t,n}$ if ${{m}} < {\bar{\wAlt}}_{t,n+1}$. Equation \eqref{eq:psidiffint2} is therefore strictly positive if ${{m}} < {\bar{\wAlt}}_{t,n+1}$ and we have proven Theorem \ref{thm:riskandconstraints}.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              %%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
  \end{proof}

  \section{Resemblance Between Precautionary Saving and a Liquidity Constraint} \label{app:similar}

  This appendix repeats an illustration from appendix G of Carroll~\cite{BufferStockTheory}.  (We make no claim to novelty of this point; it is here only to aid the intuition of the reader).

  In this appendix, we provide an example where the introduction of risk resembles the introduction of a constraint. Consider the second-to-last period of life for two risk-averse CRRA utility consumers and assume for simplicity that $R=\beta=1$.

  The first consumer is subject to a liquidity constraint $c_{T-1} \geq {m}_{T-1}$, and earns non-stochastic income of ${y}=1$ in period $T$. This consumer's saving rule will be 
  \begin{equation*}
    {a}_{T-1,1}({m}_{T-1}) =
    \begin{cases}
      0   & \mbox{if ${m}_{T-1} \leq 1$}
      \\    ({m}_{T-1}-1)/2 & \mbox{if ${m}_{T-1} > 1$}.
    \end{cases}
  \end{equation*}

  The second consumer is not subject to a liquidity constraint, but 
  faces a stochastic income process,
  \begin{equation*}
    y_{T} = 
    \begin{cases}
      0 & \mbox{with probability $p$}
      \\ \frac{1}{1-p} & \mbox{with probability $(1-p)$}.
    \end{cases}
  \end{equation*}

  If we write the consumption rule for the unconstrained consumer facing the risk as $\tilde{s}_{T-1,0},$ the key result is that in the limit as $p \downarrow 0$, behavior of the two consumers becomes the same. That is, defining $\tilde{s}_{T-1,0}({m})$ as the optimal saving rule for the consumer facing the risk,
  \begin{equation*}
    \lim_{p \downarrow 0} \tilde{s}_{T-1,0}({m}_{T-1}) = {a}_{T-1,1}({m}_{T-1}) \label{eq:lim0}
  \end{equation*}
  for every ${m}_{T-1}$.

  To see this, start with the Euler equations for the two consumers given wealth ${m}$,
  \begin{eqnarray}
    u'({m}-{a}_{T-1,1}({m})) & = & u'({a}_{T-1,1}({m})+1) \label{eq:euler1}
    \\   u'({m}-\tilde{s}_{T-1,0}({m})) & = & p u'(\tilde{s}_{T-1,0}({m}))+(1-p) u'(\tilde{s}_{T-1,0}({m})+1). \label{eq:euler2}
  \end{eqnarray}

  Consider first the case where ${m}$ is large enough that the constraint does not bind for the constrained consumer, ${m}>1$.  In this case the limit of the Euler equation for the second consumer is identical to the Euler equation for the first consumer (because for ${m}>1$ savings are positive for the consumer facing the risk, implying that the limit of the first $u'$ term on the RHS of \eqref{eq:euler2} is finite). Thus the limit of \eqref{eq:euler2} is \eqref{eq:euler1} for ${m}>1$.

  Now consider the case where ${m} < 1$ so that the first consumer would be constrained.  This consumer spends her entire resources ${m}$, and by the definition of the constraint we know that 
  \begin{eqnarray}
    u'({m}) > u'(1). \label{eq:upw}
  \end{eqnarray}

  Now consider the consumer facing the risk. If this consumer were to save exactly zero and then experienced the bad shock in period $T$, she would have an infinite marginal utility (the Inada condition). This cannot satisfy the Euler-equation as long as ${m}>0$. Therefore we know that for any $p>0$ and any ${m}>0$ the consumer will save some positive amount. For a fixed ${m}$, hypothesize that there is some $\delta>0$ such that no matter how small $p$ became the consumer would always choose to save at least $\delta$. But for any $\delta$, the limit of the RHS of \eqref{eq:euler2} is $u'(1+\delta)$. We know from concavity of the utility function that $u'(1+\delta) < u'(1)$ and we know from~\eqref{eq:upw} that $u'({m}) > u'(1) > u'(1+\delta)$, so as $p \downarrow 0$ there must always come a point at which the consumer can improve her total utility by shifting some resources from the future to the present, i.e. by saving less.  Since this argument holds for any $\delta>0$ it demonstrates that as $p$ goes to zero there is no positive level of saving that would make the consumer better off. But saving of zero or a negative amount is ruled out by the Inada condition at $u'(0)$.  Hence saving must approach, but never equal, zero as $p \downarrow 0$.

  Thus, we have shown that for ${m} \leq 1 $ and for ${m} > 1$ in the limit as $p \downarrow 0$ the consumer facing the risk but no constraint behaves identically to the consumer facing the constraint but no risk. This argument can be generalized to show that for the CRRA utility consumer, spending must always be strictly less than the sum of current wealth and the minimum possible value of human wealth.  Thus, the addition of a risk to the problem can rule out certain levels of wealth as feasible, and can also render either future or past constraints irrelevant, just as the imposition of a new constraint can. 


  \section{Proof of Theorem \ref{thm:CCandPS}}\label{app:CCandPS}

  \begin{proof}
    To simplify notation and without loss of generality, we assume that when an agent faces $n$ constraints and $m$ risks, there are one constraint and one risk for each time period. For example, if $c_{t,n}^{m}$ faces $m$ future risks and $n$ future constraints, then the next period consumption function is $c_{t+1,n-1}^{m-1}$ (and $m = n$). Note that we can transform any problem into this notation by filling in with degenerate risks and non-binding constraints. However, for Theorem \ref{thm:CCandPS} to hold with strict inequality, we need to assume that there is at least one relevant future risk and one relevant constraint. 
    
    We know that either the introduction of risk or a introduction of a constraint results in a counterclockwise concavification of the original consumption function. However, this is only true when we introduce risks in the absence of constraints (Lemma \ref{lem:ccrisk}) and when we introduce constraints in the absence of risk (see Theorem \ref{thm:lcip2}). In this proof, we therefore need to show that the introduction of all risks and constraints is a counterclockwise concavification of the linear case with no risks and constraints.
    
    Here is our proof strategy. We define a set 
    \begin{align}
      \mathcal{P}_{t,n}^{m-1} = \{ {m} | c_{t,n}^{m-1}({m})-c_{t,n}^{m}({m})>c_{t,0}({m})-c^{1}_{t,0}({m}) \} \label{eq:whatcanbesaid_proof}
    \end{align}
    where Theorem \ref{thm:CCandPS} holds in period $t$ when we introduce a risk at the beginning of period $t+1$. This is defined as the set where precautionary saving induced by a risk that is realized at the beginning of period $t+1$ is greater in the presence of all risks and constraints than in the unconstrained case.
    
    In order to show that the set $\mathcal{P}_{t,n}^{m-1}$ is non-empty, we build it up recursively, starting from period $T$ and adding one constraint or one risk  for each time period. The key to the proof is to understand that the introduction of risks or constraints will never fully reverse the effects of all other risks and constraints, even though they sometimes reduce absolute prudence for some levels of wealth because risks and constraints can mask the effects of future risks and constraints. Hence, the new consumption function must still be a counterclockwise concavification of the consumption function with no risks and constraints for some levels of wealth. 
    
    Since a counterclockwise concavification increases prudence by Lemma \ref{lem:CCToPrud}, and higher prudence increases precautionary saving by Lemma \ref{lemma:kimpratt}, our required set can be redefined as 
    \begin{align*} \mathcal{P}_{t,n}^{m-1} = \{{m} | c_{t,n}^{m-1}({m}) \text{ is a counterclockwise concavification of } c_{t,0}({m}) \text{ and } c_{t,n}^{m-1}({m}) >
      {m} 	\}\end{align*}
    where we add the last condition, $c_{t,n}^{m-1}({m}) > w$ to avoid the possibility that some constraint binds such that the agent does not increase precautionary saving. In words: $\mathcal{P}_{t,n}^{m-1}$ is the set where the consumption function is a counterclockwise concavification of $c_{t,0}({m})$ and no constraint is strictly binding. We construct the set recursively for two different cases: CARA and all other type of utility functions. We start with the non-CARA utility functions. 
    
    First add the last constraint. The set $\mathcal{P}^{0}_{T,1}$ is then 
    \[\mathcal{P}^{0}_{T,1} = \emptyset \] %%\[\left\{ w| {m} < \omega_{T,1}  \right\}\]
    since we know that $c_{T,1}({m})$ is a counterclockwise concavification of $c_{T,0}({m})$ around $\wAlt_{T,1}$ but that the consumer is constrained below this point.
    
    We next add the risk at the beginning of period $T$. To construct the new set, we note three things. First, by Lemma \ref{lem:recursive},  (strict) consumption concavity is recursively propagated for all values of wealth where there is a positive probability that the constraint can bind, i.e. 
    \[\{{m}_{T-1} | \wAlt_{T-1,1} \in \left[{m}_{T-1} - c_{T-1,1}^1({m}_{T-1}) + {y}_{T} + \underline{\zeta} ,{m}_{T-1} - c_{T-1,1}^1({m}_{T-1}) + {y}_{T} + \bar{\zeta}\right] \}\]
    has property strict CC, while it has non-strict property $CC$ for all possible values of ${m}_{T-1}$. Further, we know from Theorem \ref{thm:riskandconstraints} (rearrange equation \eqref{eq:ineq}) that
    \begin{align*}{c}_{T-1,1}^1({m})  & \leq c_{T-1,1}({m}) - c_{T-1,0}({m}) + {c}_{T-1,0}^1({m}) \\ &\leq c_{T-1,0}({m}) - c_{T-1,0}({m}) + c_{T-1,0}({m}) = c_{T-1,0}({m}).\end{align*}
    Third, we know that $c_{T-1,1}^{1}({m})' \geq c_{T-1,0}'({m})$ since ${c}_{T-1,1}^1({m}) < c_{T-1,0}({m})$ for ${m} \leq \wAlt_{T-1,1}^1$, $\lim_{{m}\rightarrow \infty} c_{T-1,1}^1({m}) - c_{T-1,0}({m}) = 0$, and that $c_{t,1}^1({m})$ is concave while $c_{t,0}({m})$ is linear. Hence, $c_{T-1,1}^1$ is a counterclockwise concavification of $c_{T-1,0}$ around the minimum value of wealth when the constraint will never bind and the new set is
    \begin{align*}\mathcal{P}_{T-1,1}^1 = \{{m}_{T-1} | \wAlt_{T-1,1} \in \left[{m}_{T-1} - c_{T-1,1}^1({m}_{T-1}) + {y}_{T} + \underline{\zeta}, {m}_{T-1} - c_{T-1,1}^1({m}_{T-1}) + {y}_{T} + \bar{\zeta}\right]   \\ \wedge c_{T-1,1}^1({m}) > {m}_{T-1}\}.\end{align*}
    
    We can now add the next constraint. The consumption function now has two kink points, $\wAlt_{T-1,1}^1$ and $\wAlt_{T-1,2}^1$. We know again from Lemma \ref{lem:recursive} that consumption concavity is preserved when we add a constraint, and strict consumption concavity is preserved for all values of wealth at which a future constraint might bind. Further, we know from Theorem \ref{thm:riskandconstraints} that 
    \begin{align*}c_{T-1,2}^1({m}) &\leq c_{T-1,2}({m}) - c_{T-1,1}({m}) + c_{T-1,1}^1({m}) \\ &\leq c_{T-1,1}({m}) - c_{T-1,1}({m}) + c_{T-1,1}({m}) = c_{T-1,1}({m}) \leq c_{T-1,0}({m}). \end{align*}
    Third, $c_{T-1,2}^1({m}) < c_{T-1,0}({m})$,  $\lim_{{m}\rightarrow\infty} c_{T-1,2}^1({m}) - c_{T-1,0}({m}) = 0$, and we know that if $c_{T-1,2}^1({m})$ is concave while $c_{T-1,0}({m})$ is linear, then $c_{T-1,2}'^{1}({m}) \geq c_{T-1,0}'({m})$. $c_{T-1,2}^1({m})$ which is a counterclockwise concavification of $c_{T-1,0}({m})$ around the minimum level of wealth at which the first constraint will never impinge on time $T-1$ consumption, $\bar{\wAlt}_{T-1,1}^1$, and the new set is
    \[\mathcal{P}_{T-1,2}^1 = \{{m}_{T-1}| {m}_{T-1} \leq \bar{\wAlt}_{T-1,1}^1 \wedge c_{T-1,2}^1({m}) > {m}_{T-1} \}.\]
    
    It is now time to add the next risk. The argument is similar. We still know that (strict) consumption concavity is recursively propagated and that $\lim_{{m}\rightarrow \infty} c_{T-2,2}^2({m}) - c_{T-2,0}({m}) = 0$. Further, we can think of the addition of two risks over two periods as adding one risk that is realized over two periods. Hence, the results from Theorem \ref{thm:riskandconstraints} must hold also for the addition of multiple risks so we have
    \begin{align*}c_{T-2,2}^2({m}) &\leq c_{T-2,2}({m}) - c_{T-2,1}({m}) + c_{T-2,1}^2({m}) \\ &\leq c_{T-2,1}({m}) - c_{T-2,1}({m}) + c_{T-2,1}({m}) = c_{T-2,1}({m}) \leq c_{T-2,0}({m}). \end{align*}
    Hence, we again know that $c_{T-2,2}'^{2}({m}) \geq c_{T-2,0}'({m})$. $c_{T-2,2}^2({m})$ is thus a counterclockwise concavification of $c_{T-2,0}({m})$ around the level of wealth at minimum value of wealth when the last constraint will never bind. The new set is therefore
    \[\mathcal{P}_{T-2,2}^2 = \{{m}_{T-2} | {m}_{T-2} - c_{T-2,2}^2({m}_{T-2}) + {y}_{T-1} + \zeta_{T-1} \in \mathcal{P}_{T-1,2}^1 \wedge c_{T-2,2}^{2}({m}) < {m} \}.\]
    
    
    Doing this recursively and defining $\bar{\wAlt}_{t,1}^{m-1}$ as the minimum value of wealth beyond which constraint $1$ will never bind, the set of wealth levels at which Theorem \ref{thm:CCandPS} holds can be defined as
    \[\mathcal{P}_{t,n}^{m-1} = \{{m}_{t} | {m}_{t} \leq \bar{\wAlt}_{t,1}^{m-1} \wedge c_{t,n}^{m-1}({m}) > {m} \}\]
    In words, precautionary saving is higher if there is a positive probability that some future constraint could bind and the consumer is not constrained today. 
    
    The last requirement is to define the set also for the CARA utility function. The problem with CARA utility is that $\lim_{{m}\rightarrow \infty} c_{t,n}^{m-1}({m}) - c_{t,0}({m}) = - k^{m-1} \leq 0$ where $k^{m-1}$ is some positive constant. We can therefore not use the same arguments as in the preceding proof. However, by realizing that equation \eqref{eq:ineq} in the CARA case can be defined as
    \begin{align*}
      c_{t,n+1}({m}) - \tilde{c}_{t,n+1}({m}) - \tilde{k} &\geq c_{t,n}({m})-\tilde{c}_{t,n}({m}) -  \tilde{k} \geq 0 
    \end{align*}
    where the last inequality follows since precautionary saving is always higher than in the constant limit in the presence of constraints. We can therefore rearrange to get
    \begin{align*}
      \tilde{c}_{t,n+1}({m})  &\leq c_{t,n+1}({m}) - \tilde{k} \leq c_{t,n}({m}) - \tilde{k} \leq c_{t,0} - \tilde{k}	\end{align*}
    which implies that the arguments in the preceding section goes through also for CARA utility with this slight modification. 
    
  \end{proof}

\end{verbatimwrite}\ifVerbatimWrite{\input{Sections/Proofs}}{} % PrivateMsg


\clearpage\pagebreak\vfill\eject

\bibliography{LiqConstr,LiqConstr-Add,economics}\end{document}

% Local Variables:
% eval: (setq TeX-command-list  (remove '("Biber" "biber %s" TeX-run-Biber nil  (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode)  :help "Run Biber") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "%(bibtex) ./LaTeX/%s" TeX-run-BibTeX nil t                                                                              :help "Run BibTeX") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "%(bibtex) ./LaTeX/%s" TeX-run-BibTeX nil (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode context-mode) :help "Run BibTeX") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "%(bibtex) LaTeX/%s" TeX-run-BibTeX nil t                                                                              :help "Run BibTeX") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "%(bibtex) LaTeX/%s" TeX-run-BibTeX nil (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode context-mode) :help "Run BibTeX") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "bibtex LaTeX/%s" TeX-run-BibTeX nil t                                                                              :help "Run BibTeX") TeX-command-list))
% eval: (setq TeX-command-list  (remove '("BibTeX" "bibtex LaTeX/%s" TeX-run-BibTeX nil (plain-tex-mode latex-mode doctex-mode ams-tex-mode texinfo-mode context-mode) :help "Run BibTeX") TeX-command-list))
% eval: (add-to-list 'TeX-command-list	'("BibTeX" "%(bibtex) %s" TeX-run-BibTeX nil t :help "Run BibTeX") t)
% TeX-PDF-mode: t
% TeX-file-line-error: t
% TeX-debug-warnings: t
% LaTeX-command-style: (("" "%(PDF)%(latex) %(file-line-error) %(extraopts) %S%(PDFout)"))
% TeX-source-correlate-mode: t
% TeX-source-correlate-start-server: 0
% TeX-parse-self: t
% eval: (cond ((string-equal system-type "darwin") (progn (setq TeX-view-program-list '(("Skim" "/Applications/Skim.app/Contents/SharedSupport/displayline -b %n %o %b"))))))
% TeX-parse-all-errors: t
% End:
